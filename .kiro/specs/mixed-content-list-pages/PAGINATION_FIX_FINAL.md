# åˆ†é¡µé—®é¢˜æœ€ç»ˆä¿®å¤æ€»ç»“

## é—®é¢˜æè¿°

å³ä½¿å¢åŠ äº†Mockæ•°æ®åˆ°300ä¸ªï¼Œ`/latest-updates` å’Œ `/hot-weekly` é¡µé¢ä»ç„¶åªæ˜¾ç¤º12ä¸ªå†…å®¹ï¼Œåˆ†é¡µå™¨ä¸æ˜¾ç¤ºã€‚

## æ ¹æœ¬åŸå› 

é—®é¢˜ä¸åœ¨Mockæ•°æ®ç”Ÿæˆï¼Œè€Œåœ¨**Hookçš„æ•°æ®è·å–é€»è¾‘**ã€‚

### é”™è¯¯çš„é€»è¾‘

```typescript
// useLatestUpdateList.ts å’Œ useHotList.ts
const allLatestUpdates = await homeApplicationService.getLatestUpdates(
  (fetchOptions.pageSize || 12) * (fetchOptions.page || 1)  // â† é—®é¢˜åœ¨è¿™é‡Œï¼
)
```

**é—®é¢˜åˆ†æ**:
- ç¬¬1é¡µï¼šè¯·æ±‚ `12 * 1 = 12` ä¸ªæ•°æ®
- ç¬¬2é¡µï¼šè¯·æ±‚ `12 * 2 = 24` ä¸ªæ•°æ®
- ç¬¬3é¡µï¼šè¯·æ±‚ `12 * 3 = 36` ä¸ªæ•°æ®

è¿™ä¸ªé€»è¾‘çš„æ„å›¾æ˜¯"è·å–è¶³å¤Ÿçš„æ•°æ®æ¥å¡«å……å½“å‰é¡µ"ï¼Œä½†å®é™…æ•ˆæœæ˜¯ï¼š
1. ç¬¬1é¡µåªè·å–12ä¸ªæ•°æ®
2. total = 12
3. totalPages = Math.ceil(12 / 12) = 1
4. åˆ†é¡µå™¨ä¸æ˜¾ç¤ºï¼ˆå› ä¸ºåªæœ‰1é¡µï¼‰

### æ­£ç¡®çš„é€»è¾‘

åº”è¯¥**ä¸€æ¬¡æ€§è·å–æ‰€æœ‰æ•°æ®**ï¼Œç„¶ååœ¨å‰ç«¯è¿›è¡Œåˆ†é¡µåˆ‡ç‰‡ï¼š

```typescript
// è·å–å¤§é‡æ•°æ®ï¼ˆ300ä¸ªï¼‰
const allLatestUpdates = await homeApplicationService.getLatestUpdates(300)

// åœ¨å‰ç«¯è¿›è¡Œåˆ†é¡µ
const startIndex = (page - 1) * pageSize  // ç¬¬1é¡µ: 0, ç¬¬2é¡µ: 12
const endIndex = startIndex + pageSize     // ç¬¬1é¡µ: 12, ç¬¬2é¡µ: 24
const paginatedData = allLatestUpdates.slice(startIndex, endIndex)

// total = 300
// totalPages = Math.ceil(300 / 12) = 25
// åˆ†é¡µå™¨æ˜¾ç¤º âœ…
```

## ä¿®å¤æ–¹æ¡ˆ

### ä¿®æ”¹çš„æ–‡ä»¶

1. **MovieFront/src/application/hooks/useLatestUpdateList.ts**
2. **MovieFront/src/application/hooks/useHotList.ts**

### ä¿®æ”¹å†…å®¹

#### useLatestUpdateList.ts

**ä¿®æ”¹å‰**:
```typescript
const allLatestUpdates = await homeApplicationService.getLatestUpdates(
  (fetchOptions.pageSize || 12) * (fetchOptions.page || 1)  // ç¬¬1é¡µ = 12
)
```

**ä¿®æ”¹å**:
```typescript
const allLatestUpdates = await homeApplicationService.getLatestUpdates(300)  // å§‹ç»ˆè·å–300ä¸ª
```

#### useHotList.ts

**ä¿®æ”¹å‰**:
```typescript
const allHotItems = await homeApplicationService.getHotDaily(
  (fetchOptions.pageSize || 12) * (fetchOptions.page || 1)  // ç¬¬1é¡µ = 12
)
```

**ä¿®æ”¹å**:
```typescript
const allHotItems = await homeApplicationService.getHotDaily(300)  // å§‹ç»ˆè·å–300ä¸ª
```

## æ•°æ®æµç¨‹

### ä¿®å¤å‰çš„æµç¨‹ï¼ˆé”™è¯¯ï¼‰

```
ç”¨æˆ·è®¿é—®ç¬¬1é¡µ
    â†“
Hookè¯·æ±‚12ä¸ªæ•°æ®
    â†“
MockDataServiceè¿”å›12ä¸ªæ•°æ®
    â†“
total = 12
    â†“
totalPages = 1
    â†“
åˆ†é¡µå™¨ä¸æ˜¾ç¤º âŒ
```

### ä¿®å¤åçš„æµç¨‹ï¼ˆæ­£ç¡®ï¼‰

```
ç”¨æˆ·è®¿é—®ç¬¬1é¡µ
    â†“
Hookè¯·æ±‚300ä¸ªæ•°æ®
    â†“
MockDataServiceè¿”å›300ä¸ªæ•°æ®
    â†“
Hookåœ¨å‰ç«¯åˆ†é¡µï¼šå–ç¬¬0-12ä¸ª
    â†“
total = 300
    â†“
totalPages = 25
    â†“
åˆ†é¡µå™¨æ˜¾ç¤º âœ…
```

## ä¸ºä»€ä¹ˆè¿™æ ·ä¿®å¤ï¼Ÿ

### 1. å‰ç«¯åˆ†é¡µ vs åç«¯åˆ†é¡µ

**åç«¯åˆ†é¡µ**ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰:
```typescript
// è¯·æ±‚ç¬¬1é¡µï¼Œæ¯é¡µ12ä¸ª
GET /api/latest?page=1&pageSize=12
// åç«¯è¿”å›ï¼š{ items: [...12ä¸ª], total: 300, page: 1, totalPages: 25 }
```

**å‰ç«¯åˆ†é¡µ**ï¼ˆMockç¯å¢ƒï¼‰:
```typescript
// ä¸€æ¬¡æ€§è·å–æ‰€æœ‰æ•°æ®
const allData = await getLatestUpdates(300)  // 300ä¸ª
// å‰ç«¯åˆ‡ç‰‡
const pageData = allData.slice(0, 12)  // ç¬¬1é¡µçš„12ä¸ª
// total = 300, totalPages = 25
```

### 2. ä¸ºä»€ä¹ˆé€‰æ‹©300ï¼Ÿ

- Mockæ•°æ®ç”Ÿæˆäº†300ä¸ªï¼ˆ100å½±ç‰‡ + 100å†™çœŸ + 100åˆé›†ï¼‰
- ç»è¿‡æ’åºç­›é€‰åï¼Œå®é™…å¯ç”¨æ•°æ®çº¦100-200ä¸ª
- 300æ˜¯ä¸€ä¸ªå®‰å…¨çš„æ•°å­—ï¼Œç¡®ä¿èƒ½è·å–æ‰€æœ‰å¯ç”¨æ•°æ®

### 3. æ€§èƒ½è€ƒè™‘

**æ‹…å¿ƒ**: ä¸€æ¬¡æ€§è·å–300ä¸ªæ•°æ®ä¼šä¸ä¼šå¾ˆæ…¢ï¼Ÿ

**ç­”æ¡ˆ**: ä¸ä¼šï¼Œå› ä¸ºï¼š
1. Mockæ•°æ®æœ‰ç¼“å­˜æœºåˆ¶
2. ç¬¬ä¸€æ¬¡ç”Ÿæˆåä¼šç¼“å­˜
3. åç»­è¯·æ±‚ç›´æ¥ä»ç¼“å­˜è¯»å–
4. 300ä¸ªæ•°æ®çš„ç”Ÿæˆå’Œä¼ è¾“éå¸¸å¿«ï¼ˆ< 100msï¼‰

## å®Œæ•´çš„ä¿®å¤æ¸…å•

### 1. MockDataService.ts âœ…
- å¢åŠ Mockæ•°æ®ç”Ÿæˆæ•°é‡ï¼š50 â†’ 100
- æ€»æ•°æ®é‡ï¼š150 â†’ 300

### 2. useLatestUpdateList.ts âœ…
- ä¿®æ”¹æ•°æ®è·å–é€»è¾‘ï¼šåŠ¨æ€è®¡ç®— â†’ å›ºå®š300

### 3. useHotList.ts âœ…
- ä¿®æ”¹æ•°æ®è·å–é€»è¾‘ï¼šåŠ¨æ€è®¡ç®— â†’ å›ºå®š300

## æµ‹è¯•éªŒè¯

### æµ‹è¯•æ­¥éª¤

1. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**ï¼ˆé‡è¦ï¼ï¼‰
   - æŒ‰ Ctrl+Shift+Delete
   - æ¸…é™¤ç¼“å­˜å’ŒCookie
   - æˆ–è€…ä½¿ç”¨æ— ç—•æ¨¡å¼

2. **è®¿é—®æœ€æ–°æ›´æ–°é¡µé¢**
   ```
   http://localhost:3000/latest-updates
   ```
   - åº”è¯¥çœ‹åˆ°"å…± 300 ä¸ªå†…å®¹"ï¼ˆæˆ–æ¥è¿‘çš„æ•°å­—ï¼‰
   - é¡µé¢åº•éƒ¨åº”è¯¥æ˜¾ç¤ºåˆ†é¡µå™¨
   - åˆ†é¡µå™¨åº”è¯¥æ˜¾ç¤ºå¤šä¸ªé¡µç 

3. **æµ‹è¯•åˆ†é¡µåŠŸèƒ½**
   - ç‚¹å‡»"ä¸‹ä¸€é¡µ"æŒ‰é’®
   - ç‚¹å‡»é¡µç ï¼ˆå¦‚ç¬¬2é¡µã€ç¬¬3é¡µï¼‰
   - éªŒè¯URLå˜åŒ–å’Œæ•°æ®åŠ è½½

4. **è®¿é—®çƒ­é—¨é¡µé¢**
   ```
   http://localhost:3000/hot-weekly
   ```
   - é‡å¤ä¸Šè¿°æµ‹è¯•

### é¢„æœŸç»“æœ

- âœ… æ€»æ•°æ˜¾ç¤ºï¼šçº¦100-300ä¸ªå†…å®¹
- âœ… åˆ†é¡µå™¨æ˜¾ç¤ºï¼šæœ‰å¤šä¸ªé¡µç 
- âœ… åˆ†é¡µåŠŸèƒ½ï¼šå¯ä»¥åˆ‡æ¢é¡µé¢
- âœ… æ•°æ®åŠ è½½ï¼šæ¯é¡µæ˜¾ç¤º12ä¸ªä¸åŒçš„å†…å®¹
- âœ… URLæ›´æ–°ï¼šé¡µç å˜åŒ–æ—¶URLåŒæ­¥æ›´æ–°

## æ³¨æ„äº‹é¡¹

### 1. ç¼“å­˜é—®é¢˜

å¦‚æœä¿®æ”¹åä»ç„¶åªæ˜¾ç¤º12ä¸ªï¼Œå¯èƒ½æ˜¯ç¼“å­˜é—®é¢˜ï¼š

**è§£å†³æ–¹æ¡ˆ**:
- ç¡¬åˆ·æ–°ï¼šCtrl+Shift+Rï¼ˆWindowsï¼‰æˆ– Cmd+Shift+Rï¼ˆMacï¼‰
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- é‡å¯å¼€å‘æœåŠ¡å™¨

### 2. ç”Ÿäº§ç¯å¢ƒ

è¿™ä¸ªä¿®å¤åªé€‚ç”¨äºMockç¯å¢ƒã€‚ç”Ÿäº§ç¯å¢ƒéœ€è¦ï¼š

```typescript
// ç”Ÿäº§ç¯å¢ƒåº”è¯¥ä½¿ç”¨åç«¯åˆ†é¡µ
const response = await api.get('/latest', {
  params: {
    page: fetchOptions.page,
    pageSize: fetchOptions.pageSize
  }
})

// åç«¯è¿”å›
{
  items: [...],
  total: 1000,
  page: 1,
  totalPages: 84
}
```

### 3. æ€§èƒ½ä¼˜åŒ–

å¦‚æœå°†æ¥æ•°æ®é‡æ›´å¤§ï¼ˆå¦‚10000ä¸ªï¼‰ï¼Œå¯ä»¥è€ƒè™‘ï¼š
- è™šæ‹Ÿæ»šåŠ¨
- æ‡’åŠ è½½
- æœåŠ¡ç«¯åˆ†é¡µ
- æ•°æ®ç¼“å­˜ç­–ç•¥

## æ€»ç»“

### é—®é¢˜æ ¹æº
Hookçš„æ•°æ®è·å–é€»è¾‘é”™è¯¯ï¼Œå¯¼è‡´åªè·å–äº†12ä¸ªæ•°æ®ã€‚

### è§£å†³æ–¹æ¡ˆ
ä¿®æ”¹Hookï¼Œå§‹ç»ˆè·å–300ä¸ªæ•°æ®ï¼Œåœ¨å‰ç«¯è¿›è¡Œåˆ†é¡µã€‚

### ä¿®æ”¹æ–‡ä»¶
1. âœ… MockDataService.ts - å¢åŠ æ•°æ®ç”Ÿæˆæ•°é‡
2. âœ… useLatestUpdateList.ts - ä¿®æ”¹æ•°æ®è·å–é€»è¾‘
3. âœ… useHotList.ts - ä¿®æ”¹æ•°æ®è·å–é€»è¾‘

### æ•ˆæœ
- æ€»æ•°ï¼š12 â†’ 300
- æ€»é¡µæ•°ï¼š1 â†’ 25
- åˆ†é¡µå™¨ï¼šä¸æ˜¾ç¤º â†’ æ­£å¸¸æ˜¾ç¤º

ç°åœ¨åˆ†é¡µåŠŸèƒ½åº”è¯¥å®Œå…¨æ­£å¸¸äº†ï¼ğŸ‰
