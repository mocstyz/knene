# æ•°æ®åº“åˆ†å±‚è®¾è®¡åŽŸåˆ™

## ðŸ—ï¸ æ•°æ®åº“åˆ†å±‚è®¾è®¡æž¶æž„

æœ¬æ–‡æ¡£åŸºäºŽã€Šæ•°æ®åº“æž¶æž„è§„èŒƒåˆ¶å®šã€‹ã€ã€Šç´¢å¼•è®¾è®¡æŒ‡å¯¼åŽŸåˆ™ã€‹ã€ã€Šæ•°æ®åº“ç‰ˆæœ¬ç®¡ç†æŒ‡å—ã€‹ã€ã€Šæ•°æ®å®Œæ•´æ€§è§„åˆ™ã€‹å’Œã€Šæ•°æ®åº“å‘½åè§„èŒƒã€‹åˆ¶å®šå½±è§†èµ„æºä¸‹è½½ç½‘ç«™çš„æ•°æ®åº“åˆ†å±‚è®¾è®¡åŽŸåˆ™ï¼Œä¸¥æ ¼æŒ‰ç…§"è§„èŒƒå…ˆè¡Œï¼Œä¸ºæ‰€æœ‰æ•°æ®åº“è®¾è®¡æä¾›æ ‡å‡†å’Œçº¦æŸ"çš„æ ¸å¿ƒåŽŸåˆ™è¿›è¡Œè®¾è®¡ã€‚

---

## ðŸŽ¯ è®¾è®¡ç›®æ ‡ä¸ŽåŽŸåˆ™

### 1.1.2 é˜¶æ®µç›®æ ‡
ä¸ºé¡¹ç›®ç¬¬ä¸€é˜¶æ®µå»ºç«‹æ¸…æ™°çš„æ•°æ®åº“åˆ†å±‚æž¶æž„ï¼ŒåŒ…æ‹¬ï¼š
- ä¸‰å±‚æ•°æ®åº“æž¶æž„è®¾è®¡
- æ ¸å¿ƒåŸºç¡€è¡¨ç»“æž„è®¾è®¡
- ä¸šåŠ¡è¡¨æ‰©å±•ç­–ç•¥
- æ•°æ®æ¼”è¿›è·¯å¾„è§„åˆ’

### åˆ†å±‚è®¾è®¡åŽŸåˆ™

#### ä¾èµ–å…³ç³»åŽŸåˆ™
- **åŸºç¡€ä¼˜å…ˆ**ï¼šæ ¸å¿ƒåŸºç¡€è¡¨æ— ä¾èµ–ï¼Œå¿…é¡»æœ€å…ˆè®¾è®¡
- **æ¸è¿›æ‰©å±•**ï¼šä¸šåŠ¡åŠŸèƒ½è¡¨åŸºäºŽæ ¸å¿ƒè¡¨æ‰©å±•è®¾è®¡
- **æ¨¡å—ç‹¬ç«‹**ï¼šå„ä¸šåŠ¡æ¨¡å—è¡¨é—´å‡å°‘ç›´æŽ¥ä¾èµ–

#### æ€§èƒ½ä¼˜åŒ–åŽŸåˆ™
- **è¯»å†™åˆ†ç¦»å‡†å¤‡**ï¼šä¸ºåŽæœŸè¯»å†™åˆ†ç¦»é¢„ç•™è®¾è®¡ç©ºé—´
- **ç´¢å¼•å‰ç½®**ï¼šåœ¨è®¾è®¡é˜¶æ®µå°±è€ƒè™‘ç´¢å¼•ä¼˜åŒ–ç­–ç•¥
- **ç¼“å­˜å‹å¥½**ï¼šè¡¨ç»“æž„è®¾è®¡è€ƒè™‘ç¼“å­˜æ¨¡å¼

#### æ‰©å±•æ€§åŽŸåˆ™
- **åž‚ç›´æ‰©å±•**ï¼šæ”¯æŒè¡¨å­—æ®µçš„å¢žé‡æ‰©å±•
- **æ°´å¹³æ‰©å±•**ï¼šä¸ºåŽæœŸåˆ†åº“åˆ†è¡¨é¢„ç•™è®¾è®¡ç©ºé—´
- **ç‰ˆæœ¬å…¼å®¹**ï¼šæ”¯æŒæ•°æ®åº“ç»“æž„çš„å¹³æ»‘å‡çº§

---

## ðŸ“Š ä¸‰å±‚æ•°æ®åº“æž¶æž„è®¾è®¡

### æž¶æž„æ¦‚è§ˆ

```mermaid
graph TB
    subgraph "ç¬¬ä¸€å±‚ï¼šæ ¸å¿ƒåŸºç¡€è¡¨"
        A[ç”¨æˆ·æƒé™æ ¸å¿ƒè¡¨]
        B[ç³»ç»ŸåŸºç¡€è¡¨]
        C[å®¡è®¡æ—¥å¿—è¡¨]
    end

    subgraph "ç¬¬äºŒå±‚ï¼šä¸šåŠ¡åŠŸèƒ½è¡¨"
        D[è®¤è¯æƒé™è¡¨]
        E[VIPä¸šåŠ¡è¡¨]
        F[ç”¨æˆ·ä¸­å¿ƒè¡¨]
        G[èµ„æºç®¡ç†è¡¨]
        H[å†…å®¹ç®¡ç†è¡¨]
    end

    subgraph "ç¬¬ä¸‰å±‚ï¼šé«˜çº§åŠŸèƒ½è¡¨"
        I[PTç«™ç‚¹é›†æˆè¡¨]
        J[è´¨é‡ç®¡ç†è¡¨]
        K[ç›‘æŽ§åˆ†æžè¡¨]
        L[å¤–éƒ¨é›†æˆè¡¨]
    end

    A --> D
    A --> E
    A --> F
    B --> D
    B --> E
    B --> F
    C --> D
    C --> E
    C --> F

    D --> I
    E --> I
    F --> I
    G --> I
    H --> I
```

---

## ðŸ”§ ç¬¬ä¸€å±‚ï¼šæ ¸å¿ƒåŸºç¡€è¡¨è®¾è®¡ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰

### è®¾è®¡åŽŸåˆ™
éµå¾ªä»¥ä¸‹æ ¸å¿ƒè§„èŒƒï¼š
- **å‘½åè§„èŒƒ**ï¼šä½¿ç”¨å°å†™å­—æ¯ + ä¸‹åˆ’çº¿ï¼Œé‡‡ç”¨å¤æ•°å½¢å¼
- **é€šç”¨å­—æ®µ**ï¼šæ‰€æœ‰è¡¨éƒ½åŒ…å« id, created_at, updated_at, deleted_at
- **å­—æ®µç±»åž‹**ï¼šä¸¥æ ¼éµå¾ªå­—æ®µç±»åž‹è§„èŒƒå’Œé•¿åº¦æ ‡å‡†
- **çº¦æŸè§„èŒƒ**ï¼šæŒ‰ç…§å­—æ®µçº¦æŸè§„èŒƒè®¾ç½® NOT NULLã€DEFAULTã€CHECK ç­‰

### 1.1 ç”¨æˆ·æƒé™æ ¸å¿ƒè¡¨

#### users - ç”¨æˆ·åŸºç¡€ä¿¡æ¯è¡¨
```sql
CREATE TABLE users (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'ç”¨æˆ·å”¯ä¸€æ ‡è¯†',
    username VARCHAR(50) NOT NULL COMMENT 'ç”¨æˆ·å',
    email VARCHAR(255) NOT NULL COMMENT 'é‚®ç®±åœ°å€',
    password_hash VARCHAR(255) NOT NULL COMMENT 'å¯†ç å“ˆå¸Œå€¼',
    phone VARCHAR(20) NULL COMMENT 'æ‰‹æœºå·ç ',
    avatar_url VARCHAR(500) NULL COMMENT 'å¤´åƒURL',
    status ENUM('active', 'inactive', 'suspended', 'deleted') NOT NULL DEFAULT 'inactive' COMMENT 'è´¦æˆ·çŠ¶æ€',
    email_verified BOOLEAN NOT NULL DEFAULT FALSE COMMENT 'é‚®ç®±æ˜¯å¦éªŒè¯',
    phone_verified BOOLEAN NOT NULL DEFAULT FALSE COMMENT 'æ‰‹æœºæ˜¯å¦éªŒè¯',
    last_login_at TIMESTAMP NULL COMMENT 'æœ€åŽç™»å½•æ—¶é—´',
    last_login_ip VARCHAR(45) NULL COMMENT 'æœ€åŽç™»å½•IP',
    login_attempts TINYINT UNSIGNED NOT NULL DEFAULT 0 COMMENT 'ç™»å½•å°è¯•æ¬¡æ•°',
    locked_until TIMESTAMP NULL COMMENT 'è´¦æˆ·é”å®šåˆ°æœŸæ—¶é—´',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    deleted_at TIMESTAMP NULL COMMENT 'åˆ é™¤æ—¶é—´',

    PRIMARY KEY (id),
    UNIQUE KEY uk_users_username (username),
    UNIQUE KEY uk_users_email (email),
    KEY idx_users_status (status),
    KEY idx_users_created_at (created_at),
    KEY idx_users_last_login_at (last_login_at),

    CONSTRAINT chk_users_username_length CHECK (CHAR_LENGTH(username) >= 3),
    CONSTRAINT chk_users_email_format CHECK (email REGEXP '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$'),
    CONSTRAINT chk_users_phone_format CHECK (phone IS NULL OR phone REGEXP '^1[3-9]\\d{9}$'),
    CONSTRAINT chk_users_status_valid CHECK (status IN ('active', 'inactive', 'suspended', 'deleted')),
    CONSTRAINT chk_users_login_attempts CHECK (login_attempts <= 10)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç”¨æˆ·åŸºç¡€ä¿¡æ¯è¡¨';
```

#### user_profiles - ç”¨æˆ·æ‰©å±•ä¿¡æ¯è¡¨
```sql
CREATE TABLE user_profiles (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    user_id BIGINT UNSIGNED NOT NULL COMMENT 'ç”¨æˆ·ID',
    nickname VARCHAR(50) NULL COMMENT 'æ˜µç§°',
    gender ENUM('male', 'female', 'other', 'unknown') NULL DEFAULT 'unknown' COMMENT 'æ€§åˆ«',
    birthday DATE NULL COMMENT 'ç”Ÿæ—¥',
    bio TEXT NULL COMMENT 'ä¸ªäººç®€ä»‹',
    location VARCHAR(100) NULL COMMENT 'æ‰€åœ¨åœ°',
    website VARCHAR(255) NULL COMMENT 'ä¸ªäººç½‘ç«™',
    company VARCHAR(100) NULL COMMENT 'å…¬å¸',
    occupation VARCHAR(100) NULL COMMENT 'èŒä¸š',
    preferences JSON NULL COMMENT 'ç”¨æˆ·åå¥½è®¾ç½®',
    timezone VARCHAR(50) NOT NULL DEFAULT 'Asia/Shanghai' COMMENT 'æ—¶åŒºè®¾ç½®',
    language VARCHAR(10) NOT NULL DEFAULT 'zh-CN' COMMENT 'è¯­è¨€è®¾ç½®',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    deleted_at TIMESTAMP NULL COMMENT 'åˆ é™¤æ—¶é—´',

    PRIMARY KEY (id),
    UNIQUE KEY uk_user_profiles_user_id (user_id),
    KEY idx_user_profiles_nickname (nickname),
    KEY idx_user_profiles_location (location),
    KEY idx_user_profiles_created_at (created_at),

    CONSTRAINT fk_user_profiles_user_id FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    CONSTRAINT chk_user_profiles_nickname_length CHECK (nickname IS NULL OR CHAR_LENGTH(nickname) >= 2),
    CONSTRAINT chk_user_profiles_birthday_range CHECK (birthday IS NULL OR birthday BETWEEN '1900-01-01' AND CURDATE()),
    CONSTRAINT chk_user_profiles_bio_length CHECK (bio IS NULL OR CHAR_LENGTH(bio) <= 1000)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç”¨æˆ·æ‰©å±•ä¿¡æ¯è¡¨';
```

#### roles - è§’è‰²å®šä¹‰è¡¨
```sql
CREATE TABLE roles (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'è§’è‰²å”¯ä¸€æ ‡è¯†',
    name VARCHAR(50) NOT NULL COMMENT 'è§’è‰²åç§°',
    display_name VARCHAR(100) NOT NULL COMMENT 'è§’è‰²æ˜¾ç¤ºåç§°',
    description TEXT NULL COMMENT 'è§’è‰²æè¿°',
    level TINYINT UNSIGNED NOT NULL DEFAULT 0 COMMENT 'è§’è‰²ç­‰çº§ï¼Œæ•°å­—è¶Šå¤§æƒé™è¶Šé«˜',
    is_system BOOLEAN NOT NULL DEFAULT FALSE COMMENT 'æ˜¯å¦ä¸ºç³»ç»Ÿè§’è‰²',
    is_active BOOLEAN NOT NULL DEFAULT TRUE COMMENT 'æ˜¯å¦å¯ç”¨',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    deleted_at TIMESTAMP NULL COMMENT 'åˆ é™¤æ—¶é—´',

    PRIMARY KEY (id),
    UNIQUE KEY uk_roles_name (name),
    KEY idx_roles_level (level),
    KEY idx_roles_is_active (is_active),
    KEY idx_roles_created_at (created_at),

    CONSTRAINT chk_roles_name_length CHECK (CHAR_LENGTH(name) >= 2),
    CONSTRAINT chk_roles_display_name_length CHECK (CHAR_LENGTH(display_name) >= 2),
    CONSTRAINT chk_roles_level_range CHECK (level <= 100),
    CONSTRAINT chk_roles_description_length CHECK (description IS NULL OR CHAR_LENGTH(description) <= 1000)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='è§’è‰²å®šä¹‰è¡¨';
```

#### permissions - æƒé™å®šä¹‰è¡¨
```sql
CREATE TABLE permissions (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'æƒé™å”¯ä¸€æ ‡è¯†',
    name VARCHAR(100) NOT NULL COMMENT 'æƒé™åç§°',
    display_name VARCHAR(100) NOT NULL COMMENT 'æƒé™æ˜¾ç¤ºåç§°',
    description TEXT NULL COMMENT 'æƒé™æè¿°',
    resource VARCHAR(50) NOT NULL COMMENT 'èµ„æºæ ‡è¯†',
    action VARCHAR(50) NOT NULL COMMENT 'æ“ä½œæ ‡è¯†',
    module VARCHAR(50) NOT NULL COMMENT 'æ¨¡å—æ ‡è¯†',
    is_system BOOLEAN NOT NULL DEFAULT FALSE COMMENT 'æ˜¯å¦ä¸ºç³»ç»Ÿæƒé™',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    deleted_at TIMESTAMP NULL COMMENT 'åˆ é™¤æ—¶é—´',

    PRIMARY KEY (id),
    UNIQUE KEY uk_permissions_name (name),
    UNIQUE KEY uk_permissions_resource_action (resource, action),
    KEY idx_permissions_module (module),
    KEY idx_permissions_resource (resource),
    KEY idx_permissions_action (action),
    KEY idx_permissions_created_at (created_at),

    CONSTRAINT chk_permissions_name_length CHECK (CHAR_LENGTH(name) >= 3),
    CONSTRAINT chk_permissions_display_name_length CHECK (CHAR_LENGTH(display_name) >= 2),
    CONSTRAINT chk_permissions_description_length CHECK (description IS NULL OR CHAR_LENGTH(description) <= 500)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æƒé™å®šä¹‰è¡¨';
```

### 1.2 ç³»ç»ŸåŸºç¡€è¡¨

#### system_configs - ç³»ç»Ÿé…ç½®è¡¨
```sql
CREATE TABLE system_configs (
    -- ä¸»é”®å­—æ®µï¼šéµå¾ªè‡ªå¢žBIGINTä¸»é”®è§„èŒƒ
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'é…ç½®ID',

    -- é…ç½®åŸºç¡€ä¿¡æ¯ï¼šéµå¾ªå­—æ®µå‘½åè§„èŒƒ
    config_key VARCHAR(100) NOT NULL COMMENT 'é…ç½®é”®',
    config_value TEXT COMMENT 'é…ç½®å€¼',
    config_type ENUM('STRING', 'NUMBER', 'BOOLEAN', 'JSON') DEFAULT 'STRING' COMMENT 'é…ç½®ç±»åž‹',
    module VARCHAR(50) NOT NULL DEFAULT 'default' COMMENT 'æ‰€å±žæ¨¡å—',
    description VARCHAR(500) COMMENT 'é…ç½®æè¿°',

    -- è®¿é—®æŽ§åˆ¶ï¼šæ”¯æŒå…¬å¼€/ç§æœ‰é…ç½®
    is_public TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦å…¬å¼€é…ç½®',
    is_encrypted TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦åŠ å¯†å­˜å‚¨',
    sort_order INT DEFAULT 0 COMMENT 'æŽ’åº',

    -- é€šç”¨å®¡è®¡å­—æ®µï¼šéµå¾ªé€šç”¨å­—æ®µè®¾è®¡è§„èŒƒ
    created_by BIGINT UNSIGNED NULL COMMENT 'åˆ›å»ºäººID',
    updated_by BIGINT UNSIGNED NULL COMMENT 'æ›´æ–°äººID',
    version INT UNSIGNED NOT NULL DEFAULT 1 COMMENT 'ä¹è§‚é”ç‰ˆæœ¬å·',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    deleted_at TIMESTAMP NULL COMMENT 'åˆ é™¤æ—¶é—´',

    -- ä¸»é”®çº¦æŸï¼šéµå¾ªä¸»é”®è®¾è®¡è§„èŒƒ
    PRIMARY KEY (id),

    -- å”¯ä¸€æ€§çº¦æŸï¼šä¿è¯é…ç½®é”®å”¯ä¸€æ€§
    UNIQUE KEY uk_configs_key (config_key),

    -- æŸ¥è¯¢ç´¢å¼•ï¼šéµå¾ªç´¢å¼•è®¾è®¡æŒ‡å¯¼åŽŸåˆ™
    KEY idx_configs_module (module),
    KEY idx_configs_public (is_public),
    KEY idx_configs_encrypted (is_encrypted),
    KEY idx_configs_sort (sort_order),
    KEY idx_configs_created_at (created_at),
    KEY idx_configs_updated_by (updated_by),
    KEY idx_configs_version (version),

    -- æ•°æ®å®Œæ•´æ€§çº¦æŸï¼šéµå¾ªCHECKçº¦æŸè§„èŒƒ
    CONSTRAINT chk_configs_key_format CHECK (config_key REGEXP '^[a-z][a-z0-9_]*$'),
    CONSTRAINT chk_configs_module_format CHECK (module REGEXP '^[a-z][a-z0-9_]*$'),
    CONSTRAINT chk_configs_sort_order CHECK (sort_order >= 0),
    CONSTRAINT chk_configs_not_delete_system CHECK (deleted_at IS NULL OR config_key NOT LIKE 'system.%')

) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç³»ç»Ÿé…ç½®è¡¨';
```

#### dictionaries - æ•°æ®å­—å…¸è¡¨
```sql
CREATE TABLE dictionaries (
    -- ä¸»é”®å­—æ®µï¼šéµå¾ªè‡ªå¢žä¸»é”®è§„èŒƒ
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'å­—å…¸ID',

    -- å­—å…¸åŸºç¡€ä¿¡æ¯ï¼šéµå¾ªå­—æ®µå‘½åè§„èŒƒ
    dict_type VARCHAR(50) NOT NULL COMMENT 'å­—å…¸ç±»åž‹',
    dict_key VARCHAR(100) NOT NULL COMMENT 'å­—å…¸é”®',
    dict_value VARCHAR(200) NOT NULL COMMENT 'å­—å…¸å€¼',
    dict_label VARCHAR(100) COMMENT 'å­—å…¸æ ‡ç­¾',
    dict_group VARCHAR(50) COMMENT 'å­—å…¸åˆ†ç»„',
    parent_key VARCHAR(100) COMMENT 'çˆ¶çº§é”®',

    -- æŽ’åºå’ŒçŠ¶æ€ï¼šæ”¯æŒå­—å…¸é¡¹æŽ’åºå’Œå¯ç”¨æŽ§åˆ¶
    sort_order INT DEFAULT 0 COMMENT 'æŽ’åº',
    is_active TINYINT(1) DEFAULT 1 COMMENT 'æ˜¯å¦å¯ç”¨',
    remark VARCHAR(500) COMMENT 'å¤‡æ³¨',

    -- é€šç”¨å®¡è®¡å­—æ®µï¼šéµå¾ªé€šç”¨å­—æ®µè®¾è®¡è§„èŒƒ
    created_by BIGINT UNSIGNED NULL COMMENT 'åˆ›å»ºäººID',
    updated_by BIGINT UNSIGNED NULL COMMENT 'æ›´æ–°äººID',
    version INT UNSIGNED NOT NULL DEFAULT 1 COMMENT 'ä¹è§‚é”ç‰ˆæœ¬å·',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    deleted_at TIMESTAMP NULL COMMENT 'åˆ é™¤æ—¶é—´',

    -- ä¸»é”®çº¦æŸ
    PRIMARY KEY (id),

    -- å”¯ä¸€æ€§çº¦æŸï¼šä¿è¯å­—å…¸ç±»åž‹å’Œé”®çš„å”¯ä¸€æ€§
    UNIQUE KEY uk_dict_type_key (dict_type, dict_key),

    -- æŸ¥è¯¢ç´¢å¼•ï¼šæ”¯æŒå¸¸ç”¨æŸ¥è¯¢åœºæ™¯
    KEY idx_dict_type (dict_type),
    KEY idx_dict_group (dict_group),
    KEY idx_dict_parent (parent_key),
    KEY idx_dict_sort (sort_order),
    KEY idx_dict_active (is_active),
    KEY idx_dict_created_at (created_at),
    KEY idx_dict_updated_by (updated_by),
    KEY idx_dict_version (version),

    -- æ•°æ®å®Œæ•´æ€§çº¦æŸï¼šéµå¾ªCHECKçº¦æŸè§„èŒƒ
    CONSTRAINT chk_dict_type_format CHECK (dict_type REGEXP '^[a-z][a-z0-9_]*$'),
    CONSTRAINT chk_dict_key_format CHECK (dict_key REGEXP '^[a-z][a-z0-9_]*$'),
    CONSTRAINT chk_dict_group_format CHECK (dict_group IS NULL OR dict_group REGEXP '^[a-z][a-z0-9_]*$'),
    CONSTRAINT chk_dict_sort_order CHECK (sort_order >= 0),
    CONSTRAINT chk_dict_label_length CHECK (dict_label IS NULL OR CHAR_LENGTH(dict_label) <= 100),
    CONSTRAINT chk_dict_remark_length CHECK (remark IS NULL OR CHAR_LENGTH(remark) <= 500)

) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æ•°æ®å­—å…¸è¡¨';
```

#### file_storages - æ–‡ä»¶å­˜å‚¨é…ç½®è¡¨
```sql
CREATE TABLE file_storages (
    -- ä¸»é”®å­—æ®µï¼šéµå¾ªè‡ªå¢žä¸»é”®è§„èŒƒ
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'å­˜å‚¨ID',

    -- å­˜å‚¨åŸºç¡€ä¿¡æ¯ï¼šéµå¾ªå­—æ®µå‘½åè§„èŒƒ
    storage_name VARCHAR(100) NOT NULL COMMENT 'å­˜å‚¨åç§°',
    storage_type ENUM('LOCAL', 'OSS', 'COS', 'QINIU', 'S3') NOT NULL COMMENT 'å­˜å‚¨ç±»åž‹',

    -- å­˜å‚¨é…ç½®ä¿¡æ¯ï¼šæ”¯æŒå¤šç§äº‘å­˜å‚¨
    access_key VARCHAR(200) COMMENT 'è®¿é—®å¯†é’¥',
    secret_key VARCHAR(200) COMMENT 'å®‰å…¨å¯†é’¥',
    bucket_name VARCHAR(100) COMMENT 'æ¡¶åç§°',
    endpoint VARCHAR(200) COMMENT 'è®¿é—®ç«¯ç‚¹',
    domain_url VARCHAR(200) COMMENT 'è®¿é—®åŸŸå',
    region VARCHAR(50) COMMENT 'åŒºåŸŸ',

    -- å­˜å‚¨é™åˆ¶å’Œé…ç½®
    max_file_size BIGINT DEFAULT 104857600 COMMENT 'æœ€å¤§æ–‡ä»¶å¤§å°(å­—èŠ‚)',
    allowed_extensions JSON COMMENT 'å…è®¸çš„æ–‡ä»¶æ‰©å±•å',
    is_default TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦é»˜è®¤å­˜å‚¨',
    is_active TINYINT(1) DEFAULT 1 COMMENT 'æ˜¯å¦å¯ç”¨',

    -- é€šç”¨å®¡è®¡å­—æ®µï¼šéµå¾ªé€šç”¨å­—æ®µè®¾è®¡è§„èŒƒ
    created_by BIGINT UNSIGNED NULL COMMENT 'åˆ›å»ºäººID',
    updated_by BIGINT UNSIGNED NULL COMMENT 'æ›´æ–°äººID',
    version INT UNSIGNED NOT NULL DEFAULT 1 COMMENT 'ä¹è§‚é”ç‰ˆæœ¬å·',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    deleted_at TIMESTAMP NULL COMMENT 'åˆ é™¤æ—¶é—´',

    -- ä¸»é”®çº¦æŸ
    PRIMARY KEY (id),

    -- å”¯ä¸€æ€§çº¦æŸï¼šä¿è¯å­˜å‚¨åç§°å”¯ä¸€æ€§
    UNIQUE KEY uk_storage_name (storage_name),

    -- æŸ¥è¯¢ç´¢å¼•ï¼šæ”¯æŒå¸¸ç”¨æŸ¥è¯¢åœºæ™¯
    KEY idx_storage_type (storage_type),
    KEY idx_storage_default (is_default),
    KEY idx_storage_active (is_active),
    KEY idx_storage_region (region),
    KEY idx_storage_created_at (created_at),
    KEY idx_storage_updated_by (updated_by),
    KEY idx_storage_version (version),

    -- æ•°æ®å®Œæ•´æ€§çº¦æŸï¼šéµå¾ªCHECKçº¦æŸè§„èŒƒ
    CONSTRAINT chk_storage_name_length CHECK (CHAR_LENGTH(storage_name) >= 2 AND CHAR_LENGTH(storage_name) <= 100),
    CONSTRAINT chk_storage_max_file_size CHECK (max_file_size > 0),
    CONSTRAINT chk_storage_not_delete_default CHECK (deleted_at IS NULL OR is_default = 0)

) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æ–‡ä»¶å­˜å‚¨é…ç½®è¡¨';
```

### 1.3 å®¡è®¡æ—¥å¿—è¡¨

#### operation_logs - æ“ä½œæ—¥å¿—è¡¨
```sql
CREATE TABLE operation_logs (
    -- ä¸»é”®å­—æ®µï¼šéµå¾ªè‡ªå¢žä¸»é”®è§„èŒƒ
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'æ—¥å¿—ID',

    -- ç”¨æˆ·ä¿¡æ¯ï¼šè®°å½•æ“ä½œç”¨æˆ·
    user_id BIGINT UNSIGNED NULL COMMENT 'ç”¨æˆ·ID',
    username VARCHAR(50) COMMENT 'ç”¨æˆ·åï¼ˆå†—ä½™å­—æ®µï¼Œé˜²æ­¢ç”¨æˆ·åˆ é™¤åŽæ— æ³•è¿½æº¯ï¼‰',

    -- æ“ä½œä¿¡æ¯ï¼šè®°å½•æ“ä½œè¯¦æƒ…
    operation_type VARCHAR(50) NOT NULL COMMENT 'æ“ä½œç±»åž‹',
    operation_module VARCHAR(50) NOT NULL COMMENT 'æ“ä½œæ¨¡å—',
    operation_desc VARCHAR(200) COMMENT 'æ“ä½œæè¿°',

    -- è¯·æ±‚ä¿¡æ¯ï¼šè®°å½•HTTPè¯·æ±‚è¯¦æƒ…
    request_method VARCHAR(10) COMMENT 'è¯·æ±‚æ–¹æ³•',
    request_url VARCHAR(500) COMMENT 'è¯·æ±‚URL',
    request_params TEXT COMMENT 'è¯·æ±‚å‚æ•°',
    response_result TEXT COMMENT 'å“åº”ç»“æžœ',
    response_status INT COMMENT 'å“åº”çŠ¶æ€ç ',

    -- çŽ¯å¢ƒä¿¡æ¯ï¼šè®°å½•æ“ä½œçŽ¯å¢ƒ
    ip_address VARCHAR(45) COMMENT 'IPåœ°å€',
    user_agent TEXT COMMENT 'ç”¨æˆ·ä»£ç†',
    browser VARCHAR(50) COMMENT 'æµè§ˆå™¨',
    os VARCHAR(50) COMMENT 'æ“ä½œç³»ç»Ÿ',
    location VARCHAR(200) COMMENT 'æ“ä½œåœ°ç‚¹',

    -- æ€§èƒ½ä¿¡æ¯ï¼šè®°å½•æ“ä½œæ€§èƒ½
    execution_time INT COMMENT 'æ‰§è¡Œæ—¶é—´(ms)',
    status ENUM('SUCCESS', 'FAILURE', 'ERROR') NOT NULL COMMENT 'æ‰§è¡ŒçŠ¶æ€',
    error_code VARCHAR(50) COMMENT 'é”™è¯¯ä»£ç ',
    error_message TEXT COMMENT 'é”™è¯¯ä¿¡æ¯',

    -- ä¼šè¯ä¿¡æ¯ï¼šè®°å½•ä¼šè¯è¯¦æƒ…
    session_id VARCHAR(128) COMMENT 'ä¼šè¯ID',
    trace_id VARCHAR(64) COMMENT 'é“¾è·¯è¿½è¸ªID',

    -- å®¡è®¡å­—æ®µï¼šè®°å½•åˆ›å»ºä¿¡æ¯
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',

    -- ä¸»é”®çº¦æŸ
    PRIMARY KEY (id),

    -- æŸ¥è¯¢ç´¢å¼•ï¼šæ”¯æŒå¸¸ç”¨æŸ¥è¯¢åœºæ™¯
    KEY idx_op_logs_user (user_id),
    KEY idx_op_logs_username (username),
    KEY idx_op_logs_type (operation_type),
    KEY idx_op_logs_module (operation_module),
    KEY idx_op_logs_status (status),
    KEY idx_op_logs_created_at (created_at),
    KEY idx_op_logs_ip (ip_address),
    KEY idx_op_logs_user_time (user_id, created_at DESC),
    KEY idx_op_logs_type_status (operation_type, status),
    KEY idx_op_logs_module_status (operation_module, status),
    KEY idx_op_logs_trace (trace_id),
    KEY idx_op_logs_session (session_id),

    -- å¤–é”®çº¦æŸï¼šéµå¾ªå¼•ç”¨å®Œæ•´æ€§è§„åˆ™
    CONSTRAINT fk_op_logs_user_id FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL,

    -- æ•°æ®å®Œæ•´æ€§çº¦æŸï¼šéµå¾ªCHECKçº¦æŸè§„èŒƒ
    CONSTRAINT chk_op_logs_username_length CHECK (username IS NULL OR (CHAR_LENGTH(username) >= 3 AND CHAR_LENGTH(username) <= 50)),
    CONSTRAINT chk_op_logs_operation_type_length CHECK (CHAR_LENGTH(operation_type) >= 2 AND CHAR_LENGTH(operation_type) <= 50),
    CONSTRAINT chk_op_logs_operation_module_length CHECK (CHAR_LENGTH(operation_module) >= 2 AND CHAR_LENGTH(operation_module) <= 50),
    CONSTRAINT chk_op_logs_operation_desc_length CHECK (operation_desc IS NULL OR CHAR_LENGTH(operation_desc) <= 200),
    CONSTRAINT chk_op_logs_request_url_length CHECK (request_url IS NULL OR CHAR_LENGTH(request_url) <= 500),
    CONSTRAINT chk_op_logs_response_status CHECK (response_status IS NULL OR (response_status >= 100 AND response_status <= 599)),
    CONSTRAINT chk_op_logs_execution_time CHECK (execution_time IS NULL OR execution_time >= 0),
    CONSTRAINT chk_op_logs_error_code_length CHECK (error_code IS NULL OR CHAR_LENGTH(error_code) <= 50),
    CONSTRAINT chk_op_logs_ip_format CHECK (ip_address IS NULL OR ip_address REGEXP '^([0-9]{1,3}\\.){3}[0-9]{1,3}$' OR ip_address REGEXP '^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$'),
    CONSTRAINT chk_op_logs_browser_length CHECK (browser IS NULL OR CHAR_LENGTH(browser) <= 50),
    CONSTRAINT chk_op_logs_os_length CHECK (os IS NULL OR CHAR_LENGTH(os) <= 50),
    CONSTRAINT chk_op_logs_location_length CHECK (location IS NULL OR CHAR_LENGTH(location) <= 200)

) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='æ“ä½œæ—¥å¿—è¡¨';
```

#### audit_logs - å®¡è®¡æ—¥å¿—è¡¨
```sql
CREATE TABLE audit_logs (
    -- ä¸»é”®å­—æ®µï¼šéµå¾ªè‡ªå¢žä¸»é”®è§„èŒƒ
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'å®¡è®¡ID',

    -- å®žä½“ä¿¡æ¯ï¼šè®°å½•è¢«æ“ä½œå®žä½“
    entity_type VARCHAR(50) NOT NULL COMMENT 'å®žä½“ç±»åž‹',
    entity_id BIGINT NOT NULL COMMENT 'å®žä½“ID',
    operation_type ENUM('CREATE', 'UPDATE', 'DELETE', 'RESTORE') NOT NULL COMMENT 'æ“ä½œç±»åž‹',

    -- å˜æ›´ä¿¡æ¯ï¼šè®°å½•æ•°æ®å˜æ›´è¯¦æƒ…
    old_values JSON COMMENT 'æ—§å€¼',
    new_values JSON COMMENT 'æ–°å€¼',
    changed_fields JSON COMMENT 'å˜æ›´å­—æ®µ',

    -- æ“ä½œç”¨æˆ·ä¿¡æ¯ï¼šè®°å½•æ“ä½œè€…
    user_id BIGINT UNSIGNED NULL COMMENT 'æ“ä½œç”¨æˆ·ID',
    username VARCHAR(50) COMMENT 'ç”¨æˆ·åï¼ˆå†—ä½™å­—æ®µï¼‰',
    ip_address VARCHAR(45) COMMENT 'IPåœ°å€',
    user_agent TEXT COMMENT 'ç”¨æˆ·ä»£ç†',

    -- æ“ä½œä¸Šä¸‹æ–‡ï¼šè®°å½•æ“ä½œä¸Šä¸‹æ–‡ä¿¡æ¯
    reason VARCHAR(500) COMMENT 'æ“ä½œåŽŸå› ',
    batch_id VARCHAR(64) COMMENT 'æ‰¹æ¬¡IDï¼ˆæ‰¹é‡æ“ä½œï¼‰',
    rollback_possible TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦å¯å›žæ»š',
    rollback_data JSON COMMENT 'å›žæ»šæ•°æ®',

    -- å®¡è®¡å­—æ®µï¼šè®°å½•åˆ›å»ºä¿¡æ¯
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',

    -- ä¸»é”®çº¦æŸ
    PRIMARY KEY (id),

    -- æŸ¥è¯¢ç´¢å¼•ï¼šæ”¯æŒå¸¸ç”¨æŸ¥è¯¢åœºæ™¯
    KEY idx_audit_entity (entity_type, entity_id),
    KEY idx_audit_operation (operation_type),
    KEY idx_audit_user (user_id),
    KEY idx_audit_username (username),
    KEY idx_audit_created_at (created_at),
    KEY idx_audit_batch (batch_id),
    KEY idx_audit_rollback (rollback_possible),
    KEY idx_audit_ip (ip_address),
    KEY idx_audit_entity_time (entity_type, created_at DESC),
    KEY idx_audit_user_time (user_id, created_at DESC),

    -- å¤–é”®çº¦æŸï¼šéµå¾ªå¼•ç”¨å®Œæ•´æ€§è§„åˆ™
    CONSTRAINT fk_audit_user_id FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL,

    -- æ•°æ®å®Œæ•´æ€§çº¦æŸï¼šéµå¾ªCHECKçº¦æŸè§„èŒƒ
    CONSTRAINT chk_audit_entity_type_length CHECK (CHAR_LENGTH(entity_type) >= 2 AND CHAR_LENGTH(entity_type) <= 50),
    CONSTRAINT chk_audit_username_length CHECK (username IS NULL OR (CHAR_LENGTH(username) >= 3 AND CHAR_LENGTH(username) <= 50)),
    CONSTRAINT chk_audit_reason_length CHECK (reason IS NULL OR CHAR_LENGTH(reason) <= 500),
    CONSTRAINT chk_audit_batch_id_length CHECK (batch_id IS NULL OR CHAR_LENGTH(batch_id) <= 64),
    CONSTRAINT chk_audit_ip_format CHECK (ip_address IS NULL OR ip_address REGEXP '^([0-9]{1,3}\\.){3}[0-9]{1,3}$' OR ip_address REGEXP '^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')

) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='å®¡è®¡æ—¥å¿—è¡¨';
```

---

## ðŸ“ˆ ç¬¬äºŒå±‚ï¼šä¸šåŠ¡åŠŸèƒ½è¡¨ï¼ˆæŒ‰é˜¶æ®µè®¾è®¡ï¼‰

### è®¾è®¡åŽŸåˆ™
- **ä¾èµ–æ ¸å¿ƒè¡¨**ï¼šæ‰€æœ‰ä¸šåŠ¡è¡¨éƒ½åŸºäºŽç¬¬ä¸€å±‚æ ¸å¿ƒè¡¨è¿›è¡Œæ‰©å±•
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¯ä¸ªä¸šåŠ¡æ¨¡å—çš„è¡¨ç›¸å¯¹ç‹¬ç«‹
- **æ¸è¿›å¼å®žçŽ°**ï¼šæŒ‰ç…§å¼€å‘é˜¶æ®µé€æ­¥è®¾è®¡å’Œå®žçŽ°

### 2.1 ç¬¬äºŒé˜¶æ®µï¼šè®¤è¯æƒé™è¡¨ï¼ˆåŸºäºŽç¬¬ä¸€å±‚ç”¨æˆ·æƒé™æ ¸å¿ƒè¡¨ï¼‰
- user_roles - ç”¨æˆ·è§’è‰²å…³è”è¡¨
- refresh_tokens - åˆ·æ–°ä»¤ç‰Œè¡¨
- login_history - ç™»å½•åŽ†å²è¡¨
- email_verifications - é‚®ç®±éªŒè¯è¡¨
- password_resets - å¯†ç é‡ç½®è¡¨

### 2.2 ç¬¬ä¸‰é˜¶æ®µï¼šVIPä¸šåŠ¡è¡¨ï¼ˆåŸºäºŽç¬¬ä¸€å±‚ç”¨æˆ·æƒé™æ ¸å¿ƒè¡¨ï¼‰
- vip_memberships - ä¼šå‘˜ä¿¡æ¯è¡¨
- vip_plans - ä¼šå‘˜å¥—é¤è¡¨
- orders - è®¢å•ä¸»è¡¨
- payment_records - æ”¯ä»˜è®°å½•è¡¨

### 2.3 ç¬¬å››é˜¶æ®µï¼šç”¨æˆ·ä¸­å¿ƒè¡¨ï¼ˆåŸºäºŽç¬¬ä¸€å±‚ç”¨æˆ·æƒé™æ ¸å¿ƒè¡¨ï¼‰
- favorites - æ”¶è—ä¸»è¡¨
- download_history - ä¸‹è½½åŽ†å²è¡¨
- user_comments - ç”¨æˆ·è¯„è®ºè¡¨
- browse_history - æµè§ˆåŽ†å²è¡¨

---

## ðŸš€ ç¬¬ä¸‰å±‚ï¼šé«˜çº§åŠŸèƒ½è¡¨ï¼ˆæŒ‰éœ€è®¾è®¡ï¼‰

### è®¾è®¡åŽŸåˆ™
- **ä¸šåŠ¡é©±åŠ¨**ï¼šæ ¹æ®å…·ä½“ä¸šåŠ¡éœ€æ±‚è®¾è®¡
- **æ€§èƒ½ä¼˜å…ˆ**ï¼šè€ƒè™‘å¤§æ•°æ®é‡åœºæ™¯çš„æ€§èƒ½ä¼˜åŒ–
- **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒåŠŸèƒ½çš„æŒç»­æ‰©å±•

### 3.1 PTç«™ç‚¹é›†æˆè¡¨
- pt_sites - PTç«™ç‚¹ä¿¡æ¯è¡¨
- pt_accounts - PTç«™ç‚¹è´¦æˆ·è¡¨
- torrent_files - ç§å­æ–‡ä»¶è¡¨

### 3.2 è´¨é‡ç®¡ç†è¡¨
- quality_scores - è´¨é‡è¯„åˆ†è¡¨
- duplicate_detection - é‡å¤æ£€æµ‹è¡¨
- integrity_checks - å®Œæ•´æ€§æ£€æŸ¥è¡¨

### 3.3 ç›‘æŽ§åˆ†æžè¡¨
- user_statistics - ç”¨æˆ·ç»Ÿè®¡è¡¨
- resource_statistics - èµ„æºç»Ÿè®¡è¡¨
- system_statistics - ç³»ç»Ÿç»Ÿè®¡è¡¨

---

## ðŸ”— è¡¨é—´å…³ç³»è®¾è®¡

### å…³ç³»è®¾è®¡åŽŸåˆ™
1. **å¼±è€¦åˆ**ï¼šå‡å°‘ä¸å¿…è¦çš„è¡¨é—´ä¾èµ–
2. **æ•°æ®ä¸€è‡´æ€§**ï¼šé€šè¿‡å¤–é”®çº¦æŸä¿è¯æ•°æ®ä¸€è‡´æ€§
3. **æ€§èƒ½è€ƒè™‘**ï¼šé¿å…è¿‡æ·±çš„å…³è”æŸ¥è¯¢
4. **æ‰©å±•ç©ºé—´**ï¼šä¸ºæœªæ¥åŠŸèƒ½æ‰©å±•é¢„ç•™æŽ¥å£

### æ ¸å¿ƒå…³ç³»å›¾
```mermaid
erDiagram
    users ||--o{ user_profiles : has
    users ||--o{ operation_logs : generates
    users ||--o{ audit_logs : generates

    users }o--o{ roles : many_to_many_via_user_roles
    roles ||--o{ permissions : many_to_many_via_role_permissions

    system_configs }o--o{ users : configures
    dictionaries }o--o{ users : classifies
    file_storages }o--o{ users : stores_files_for
```

---

## ðŸ“‹ æ•°æ®è¿ç§»ç­–ç•¥

### è¿ç§»é¡ºåº
ä¸¥æ ¼æŒ‰ç…§ä¾èµ–å…³ç³»è¿›è¡Œæ•°æ®è¿ç§»ï¼š

1. **V1.1.1__Create_core_tables.sql** - åˆ›å»ºç¬¬ä¸€å±‚æ ¸å¿ƒåŸºç¡€è¡¨
2. **V1.1.2__Insert_core_data.sql** - æ’å…¥æ ¸å¿ƒåŸºç¡€æ•°æ®
3. **V1.2.1__Create_auth_tables.sql** - åˆ›å»ºç¬¬äºŒå±‚è®¤è¯æƒé™è¡¨
4. **V1.2.2__Insert_auth_data.sql** - æ’å…¥è®¤è¯æƒé™åŸºç¡€æ•°æ®
5. **V1.3.1__Create_business_tables.sql** - åˆ›å»ºç¬¬ä¸‰å±‚ä¸šåŠ¡åŠŸèƒ½è¡¨

### ç‰ˆæœ¬å‘½åè§„èŒƒ
éµå¾ªã€ŠFlywayç‰ˆæœ¬ç®¡ç†æŒ‡å—ã€‹ä¸­çš„å‘½åè§„èŒƒï¼š
- V{major}.{minor}.{patch}__Description.sql
- ç‰ˆæœ¬å·ä¸¥æ ¼é€’å¢ž
- æè¿°æ¸…æ™°æ˜Žç¡®

---

## âœ… è®¾è®¡éªŒè¯æ¸…å•

### è§„èŒƒç¬¦åˆæ€§æ£€æŸ¥
- [x] å‘½åè§„èŒƒï¼šä¸¥æ ¼éµå¾ªæ•°æ®åº“å‘½åè§„èŒƒ
- [x] å­—æ®µç±»åž‹ï¼šéµå¾ªå­—æ®µç±»åž‹è§„èŒƒå’Œé•¿åº¦æ ‡å‡†
- [x] çº¦æŸè®¾ç½®ï¼šæŒ‰ç…§å­—æ®µçº¦æŸè§„èŒƒè®¾ç½®çº¦æŸ
- [x] ç´¢å¼•è®¾è®¡ï¼šéµå¾ªç´¢å¼•è®¾è®¡æŒ‡å¯¼åŽŸåˆ™
- [x] å®Œæ•´æ€§è§„åˆ™ï¼šéµå¾ªæ•°æ®å®Œæ•´æ€§è§„åˆ™
- [x] ç‰ˆæœ¬ç®¡ç†ï¼šéµå¾ªFlywayè¿ç§»è„šæœ¬è§„èŒƒ

### è®¾è®¡è´¨é‡æ£€æŸ¥
- [x] ä¾èµ–å…³ç³»æ¸…æ™°ï¼šè¡¨é—´ä¾èµ–å…³ç³»æ˜Žç¡®åˆç†
- [x] æ‰©å±•æ€§è‰¯å¥½ï¼šä¸ºæœªæ¥æ‰©å±•é¢„ç•™ç©ºé—´
- [x] æ€§èƒ½ä¼˜åŒ–ï¼šè€ƒè™‘æŸ¥è¯¢æ€§èƒ½å’Œç´¢å¼•æ•ˆçŽ‡
- [x] æ•°æ®å®Œæ•´æ€§ï¼šé€šè¿‡çº¦æŸä¿è¯æ•°æ®è´¨é‡
- [x] ä¸šåŠ¡é€‚ç”¨æ€§ï¼šæ»¡è¶³å½±è§†èµ„æºä¸‹è½½ç½‘ç«™çš„ä¸šåŠ¡éœ€æ±‚

---

## ðŸ“ ä¸‹ä¸€æ­¥å·¥ä½œ

### 1.1.3 æ ¸å¿ƒåŸºç¡€è¡¨è®¾è®¡ï¼ˆ4å¤©ï¼‰
åŸºäºŽæœ¬åˆ†å±‚è®¾è®¡ï¼Œä¸‹ä¸€æ­¥éœ€è¦ï¼š
1. **è¯¦ç»†è®¾è®¡æ¯ä¸ªè¡¨çš„å­—æ®µ**ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚ç»†åŒ–å­—æ®µå®šä¹‰
2. **åˆ›å»ºç´¢å¼•ç­–ç•¥**ï¼šä¸ºæ¯ä¸ªè¡¨è®¾è®¡åˆç†çš„ç´¢å¼•
3. **ç¼–å†™è¿ç§»è„šæœ¬**ï¼šåˆ›å»ºV1.1.1ç‰ˆæœ¬çš„Flywayè¿ç§»è„šæœ¬
4. **å‡†å¤‡æµ‹è¯•æ•°æ®**ï¼šä¸ºæ ¸å¿ƒè¡¨å‡†å¤‡50-100æ¡æµ‹è¯•æ•°æ®

### 1.1.4 æ ¸å¿ƒæµ‹è¯•æ•°æ®å‡†å¤‡ï¼ˆ1å¤©ï¼‰
- åŸºç¡€é…ç½®æ•°æ®ï¼šç³»ç»Ÿé…ç½®é¡¹ã€å­—å…¸æ•°æ®ã€é»˜è®¤è§’è‰²æƒé™
- ç”¨æˆ·æµ‹è¯•æ•°æ®ï¼šç®¡ç†å‘˜ç”¨æˆ·ã€æ™®é€šç”¨æˆ·æ•°æ®
- å®¡è®¡æµ‹è¯•æ•°æ®ï¼šæ“ä½œæ—¥å¿—ã€å®¡è®¡æ—¥å¿—æ ·æœ¬æ•°æ®

---

*æœ¬æ–‡æ¡£ä¸¥æ ¼éµå¾ªã€Šæ•°æ®åº“æž¶æž„è§„èŒƒåˆ¶å®šã€‹ã€ã€Šç´¢å¼•è®¾è®¡æŒ‡å¯¼åŽŸåˆ™ã€‹ã€ã€Šæ•°æ®åº“ç‰ˆæœ¬ç®¡ç†æŒ‡å—ã€‹ã€ã€Šæ•°æ®å®Œæ•´æ€§è§„åˆ™ã€‹å’Œã€Šæ•°æ®åº“å‘½åè§„èŒƒã€‹çš„è¦æ±‚ï¼Œä¸ºå½±è§†èµ„æºä¸‹è½½ç½‘ç«™é¡¹ç›®æä¾›æ¸…æ™°ã€å¯æ‰©å±•ã€é«˜æ€§èƒ½çš„æ•°æ®åº“åˆ†å±‚æž¶æž„è®¾è®¡ã€‚*