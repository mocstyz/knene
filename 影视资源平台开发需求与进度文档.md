# å½±è§†èµ„æºå¹³å°å¼€å‘éœ€æ±‚ä¸è¿›åº¦æ–‡æ¡£

> **é¡¹ç›®åç§°**: å½±è§†èµ„æºä¸‹è½½å¹³å°  
> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
> **åˆ›å»ºæ—¥æœŸ**: 2025-10-26  
> **æœ€åæ›´æ–°**: 2025-10-26  
> **æ–‡æ¡£ä½œè€…**: mosctz

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
2. [æŠ€æœ¯æ¶æ„](#2-æŠ€æœ¯æ¶æ„)
3. [å·²å®Œæˆå·¥ä½œæ¸…å•](#3-å·²å®Œæˆå·¥ä½œæ¸…å•)
4. [å¾…å®Œæˆå·¥ä½œæ¸…å•](#4-å¾…å®Œæˆå·¥ä½œæ¸…å•)
5. [è¯¦ç»†å¼€å‘ä»»åŠ¡](#5-è¯¦ç»†å¼€å‘ä»»åŠ¡)
6. [APIæ¥å£æ–‡æ¡£](#6-apiæ¥å£æ–‡æ¡£)
7. [çˆ¬è™«ç³»ç»Ÿè®¾è®¡](#7-çˆ¬è™«ç³»ç»Ÿè®¾è®¡)
8. [å¼€å‘å‘¨æœŸä¼°ç®—](#8-å¼€å‘å‘¨æœŸä¼°ç®—)
9. [éƒ¨ç½²ä¸è¿ç»´](#9-éƒ¨ç½²ä¸è¿ç»´)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªå…¨æ ˆå½±è§†èµ„æºä¸‹è½½å¹³å°,æ”¯æŒå½±ç‰‡ã€ç”µè§†å‰§ã€å†™çœŸå›¾ç‰‡é›†ç­‰å¤šç§èµ„æºç±»å‹çš„æµè§ˆã€æœç´¢å’Œä¸‹è½½ã€‚å¹³å°é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„,å‰ç«¯ä½¿ç”¨React + TypeScript + DDDæ¶æ„,åç«¯ä½¿ç”¨Java + Spring Boot + Redisç­‰æŠ€æœ¯æ ˆã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½

- **èµ„æºæµè§ˆ**: å½±ç‰‡ã€ç”µè§†å‰§ã€å†™çœŸå›¾ç‰‡é›†çš„åˆ†ç±»æµè§ˆ
- **æœç´¢åŠŸèƒ½**: å…¨æ–‡æœç´¢ã€é«˜çº§ç­›é€‰ã€æ™ºèƒ½æ¨è
- **ç”¨æˆ·ç³»ç»Ÿ**: æ³¨å†Œç™»å½•ã€ä¸ªäººä¸­å¿ƒã€VIPä¼šå‘˜
- **ä¸‹è½½ç®¡ç†**: ä¸‹è½½é˜Ÿåˆ—ã€è¿›åº¦è·Ÿè¸ªã€æ–­ç‚¹ç»­ä¼ 
- **å†…å®¹ç®¡ç†**: ç®¡ç†å‘˜åå°ã€å†…å®¹å®¡æ ¸ã€æ‰¹é‡ä¸Šä¼ 
- **çˆ¬è™«ç³»ç»Ÿ**: è‡ªåŠ¨çˆ¬å–å…è´¹èµ„æº(å¦‚YTS)å’ŒVIPèµ„æº
- **è¯„è®ºäº’åŠ¨**: è¯„åˆ†ã€è¯„è®ºã€æ”¶è—ã€ç‚¹èµ

### 1.3 ç”¨æˆ·è§’è‰²

- **æ¸¸å®¢**: æµè§ˆå…è´¹å†…å®¹
- **æ³¨å†Œç”¨æˆ·**: ä¸‹è½½å…è´¹èµ„æºã€è¯„è®ºäº’åŠ¨
- **VIPç”¨æˆ·**: è®¿é—®VIPä¸“äº«èµ„æºã€æ— é™ä¸‹è½½
- **ç®¡ç†å‘˜**: å†…å®¹ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€ç³»ç»Ÿé…ç½®
- **è¶…çº§ç®¡ç†å‘˜**: å®Œæ•´ç³»ç»Ÿæƒé™

---

## 2. æŠ€æœ¯æ¶æ„

### 2.1 å‰ç«¯æŠ€æœ¯æ ˆ

#### æ ¸å¿ƒæ¡†æ¶
- **React 18.2.0**: UIæ¡†æ¶
- **TypeScript 5.2.2**: ç±»å‹å®‰å…¨
- **Vite 5.0.0**: æ„å»ºå·¥å…·
- **pnpm 8.10.0**: åŒ…ç®¡ç†å™¨

#### çŠ¶æ€ç®¡ç†
- **Zustand 4.5.7**: è½»é‡çº§çŠ¶æ€ç®¡ç†
- **TanStack Query 5.90.2**: æœåŠ¡ç«¯çŠ¶æ€ç®¡ç†
- **Immer 10.0.3**: ä¸å¯å˜æ•°æ®

#### è·¯ç”±ä¸å¯¼èˆª
- **React Router 6.30.1**: å®¢æˆ·ç«¯è·¯ç”±

#### UIç»„ä»¶åº“
- **Radix UI**: æ— éšœç¢ç»„ä»¶åŸºç¡€
  - @radix-ui/react-dialog
  - @radix-ui/react-dropdown-menu
  - @radix-ui/react-select
  - @radix-ui/react-toast
  - @radix-ui/react-tooltip
  - @radix-ui/react-progress
- **Headless UI 1.7.17**: æ— æ ·å¼ç»„ä»¶
- **Lucide React 0.548.0**: å›¾æ ‡åº“

#### æ ·å¼æ–¹æ¡ˆ
- **Tailwind CSS 3.3.6**: åŸå­åŒ–CSS
- **PostCSS 8.4.32**: CSSå¤„ç†
- **Tailwind Merge 2.0.0**: ç±»ååˆå¹¶
- **clsx 2.0.0**: æ¡ä»¶ç±»å
- **next-themes 0.4.6**: ä¸»é¢˜åˆ‡æ¢

#### è¡¨å•å¤„ç†
- **React Hook Form 7.48.2**: è¡¨å•ç®¡ç†
- **Zod 3.22.4**: æ•°æ®éªŒè¯
- **@hookform/resolvers 3.3.2**: è¡¨å•éªŒè¯é›†æˆ

#### å·¥å…·åº“
- **date-fns 2.30.0**: æ—¥æœŸå¤„ç†

#### å¼€å‘å·¥å…·
- **ESLint 8.57.1**: ä»£ç æ£€æŸ¥
- **Prettier 3.6.2**: ä»£ç æ ¼å¼åŒ–
- **Husky 8.0.3**: Gité’©å­
- **lint-staged 15.1.0**: æš‚å­˜æ–‡ä»¶æ£€æŸ¥

#### æµ‹è¯•æ¡†æ¶
- **Vitest 1.0.0**: å•å…ƒæµ‹è¯•
- **@testing-library/react 14.1.2**: ç»„ä»¶æµ‹è¯•
- **Playwright 1.40.0**: E2Eæµ‹è¯•
- **@vitest/coverage-v8**: æµ‹è¯•è¦†ç›–ç‡

#### æ–‡æ¡£å·¥å…·
- **Storybook 7.5.3**: ç»„ä»¶æ–‡æ¡£

### 2.2 åç«¯æŠ€æœ¯æ ˆ

#### æ ¸å¿ƒæ¡†æ¶
- **Java 17+**: ç¼–ç¨‹è¯­è¨€
- **Spring Boot 3.x**: åº”ç”¨æ¡†æ¶
- **Spring Security**: å®‰å…¨æ¡†æ¶
- **Spring Data JPA**: æ•°æ®è®¿é—®
- **Spring Cache**: ç¼“å­˜æŠ½è±¡

#### æ•°æ®åº“
- **MySQL 8.0+**: ä¸»æ•°æ®åº“
- **Redis 7.0+**: ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **Elasticsearch 8.x**: å…¨æ–‡æœç´¢å¼•æ“

#### æ¶ˆæ¯é˜Ÿåˆ—
- **RabbitMQ** æˆ– **Kafka**: å¼‚æ­¥ä»»åŠ¡å¤„ç†

#### æ–‡ä»¶å­˜å‚¨
- **MinIO** æˆ– **é˜¿é‡Œäº‘OSS**: å¯¹è±¡å­˜å‚¨
- **æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ**: å¼€å‘ç¯å¢ƒ

#### çˆ¬è™«æŠ€æœ¯
- **Selenium 4.x**: æµè§ˆå™¨è‡ªåŠ¨åŒ–
- **Jsoup**: HTMLè§£æ
- **OkHttp**: HTTPå®¢æˆ·ç«¯
- **å¤§æ¨¡å‹é›†æˆ**: 
  - OpenAI GPT-4
  - Claude 3
  - æœ¬åœ°éƒ¨ç½²çš„å¼€æºæ¨¡å‹(å¦‚Llama 3)

#### ç›‘æ§ä¸æ—¥å¿—
- **Spring Boot Actuator**: åº”ç”¨ç›‘æ§
- **Logback**: æ—¥å¿—æ¡†æ¶
- **ELK Stack**: æ—¥å¿—åˆ†æ
- **Prometheus + Grafana**: æŒ‡æ ‡ç›‘æ§

#### å¼€å‘å·¥å…·
- **Maven** æˆ– **Gradle**: æ„å»ºå·¥å…·
- **Swagger/OpenAPI**: APIæ–‡æ¡£
- **JUnit 5**: å•å…ƒæµ‹è¯•
- **Mockito**: Mockæ¡†æ¶

### 2.3 æ¶æ„è®¾è®¡

#### å‰ç«¯æ¶æ„ - DDDåˆ†å±‚

```
src/
â”œâ”€â”€ presentation/          # è¡¨ç°å±‚
â”‚   â”œâ”€â”€ components/       # UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ atoms/       # åŸå­ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ molecules/   # åˆ†å­ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ organisms/   # æœ‰æœºä½“ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ templates/   # æ¨¡æ¿ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ guards/      # è·¯ç”±å®ˆå«
â”‚   â”‚   â”œâ”€â”€ layers/      # å›¾å±‚ç»„ä»¶
â”‚   â”‚   â””â”€â”€ domains/     # ä¸šåŠ¡é¢†åŸŸç»„ä»¶
â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/           # è¡¨ç°å±‚Hooks
â”‚   â””â”€â”€ router/          # è·¯ç”±é…ç½®
â”œâ”€â”€ application/          # åº”ç”¨å±‚
â”‚   â”œâ”€â”€ services/        # åº”ç”¨æœåŠ¡
â”‚   â”œâ”€â”€ stores/          # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ hooks/           # åº”ç”¨å±‚Hooks
â”‚   â””â”€â”€ providers/       # ä¸Šä¸‹æ–‡æä¾›è€…
â”œâ”€â”€ domain/              # é¢†åŸŸå±‚
â”‚   â”œâ”€â”€ entities/        # å®ä½“
â”‚   â”œâ”€â”€ value-objects/   # å€¼å¯¹è±¡
â”‚   â”œâ”€â”€ services/        # é¢†åŸŸæœåŠ¡
â”‚   â””â”€â”€ events/          # é¢†åŸŸäº‹ä»¶
â”œâ”€â”€ infrastructure/      # åŸºç¡€è®¾æ–½å±‚
â”‚   â”œâ”€â”€ api/            # APIè°ƒç”¨
â”‚   â”œâ”€â”€ repositories/   # ä»“å‚¨å®ç°
â”‚   â”œâ”€â”€ storage/        # å­˜å‚¨æœåŠ¡
â”‚   â”œâ”€â”€ cache/          # ç¼“å­˜ç®¡ç†
â”‚   â””â”€â”€ services/       # å¤–éƒ¨æœåŠ¡
â”œâ”€â”€ tokens/             # è®¾è®¡ä»¤ç‰Œ
â”œâ”€â”€ types/              # ç±»å‹å®šä¹‰
â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
```

#### åç«¯æ¶æ„ - åˆ†å±‚æ¶æ„

```
src/main/java/com/movie/
â”œâ”€â”€ controller/          # æ§åˆ¶å™¨å±‚
â”‚   â”œâ”€â”€ api/            # REST API
â”‚   â””â”€â”€ admin/          # ç®¡ç†åå°API
â”œâ”€â”€ service/            # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ impl/           # æœåŠ¡å®ç°
â”‚   â””â”€â”€ crawler/        # çˆ¬è™«æœåŠ¡
â”œâ”€â”€ repository/         # æ•°æ®è®¿é—®å±‚
â”œâ”€â”€ entity/             # å®ä½“ç±»
â”œâ”€â”€ dto/                # æ•°æ®ä¼ è¾“å¯¹è±¡
â”œâ”€â”€ vo/                 # è§†å›¾å¯¹è±¡
â”œâ”€â”€ config/             # é…ç½®ç±»
â”œâ”€â”€ security/           # å®‰å…¨é…ç½®
â”œâ”€â”€ exception/          # å¼‚å¸¸å¤„ç†
â”œâ”€â”€ util/               # å·¥å…·ç±»
â””â”€â”€ aspect/             # åˆ‡é¢
```

---

## 3. å·²å®Œæˆå·¥ä½œæ¸…å•

### 3.1 å‰ç«¯å·²å®Œæˆ âœ…

#### åŸºç¡€æ¶æ„ (100%)
- [x] é¡¹ç›®åˆå§‹åŒ–å’Œé…ç½®
- [x] Viteæ„å»ºé…ç½®
- [x] TypeScripté…ç½®
- [x] ESLint + Prettieré…ç½®
- [x] Husky + lint-stagedé…ç½®
- [x] è·¯å¾„åˆ«åé…ç½®(@åˆ«åç³»ç»Ÿ)
- [x] ç¯å¢ƒå˜é‡é…ç½®

#### DDDæ¶æ„å®ç° (100%)
- [x] å››å±‚æ¶æ„ç›®å½•ç»“æ„
- [x] é¢†åŸŸå®ä½“å®šä¹‰(Movie, Photo, User, Downloadç­‰)
- [x] å€¼å¯¹è±¡å®šä¹‰(Rating, Duration, Genreç­‰)
- [x] é¢†åŸŸæœåŠ¡å®ç°
- [x] åº”ç”¨æœåŠ¡å®ç°
- [x] ä»“å‚¨æ¨¡å¼å®ç°

#### UIç»„ä»¶ç³»ç»Ÿ (90%)
- [x] åŸå­ç»„ä»¶(Button, Input, Badge, Iconç­‰)
- [x] åˆ†å­ç»„ä»¶(SearchBox, NavigationMenuç­‰)
- [x] æœ‰æœºä½“ç»„ä»¶(Header, HeroSectionç­‰)
- [x] å›¾å±‚ç»„ä»¶ç³»ç»Ÿ(MovieLayer, ImageLayerç­‰)
- [x] é¢†åŸŸç»„ä»¶(æœ€æ–°æ›´æ–°ã€çƒ­é—¨ã€åˆé›†ç­‰)
- [x] è·¯ç”±å®ˆå«ç»„ä»¶(ProtectedRoute, AdminRouteç­‰)
- [x] æ¨¡æ¿ç»„ä»¶(AuthTemplate, UserTemplate, AdminTemplate)

#### æ ·å¼ç³»ç»Ÿ (100%)
- [x] Tailwind CSSé…ç½®
- [x] è®¾è®¡ä»¤ç‰Œç³»ç»Ÿ(colors, spacing, typographyç­‰)
- [x] ç»„ä»¶å˜ä½“ç³»ç»Ÿ
- [x] å“åº”å¼é…ç½®
- [x] ä¸»é¢˜åˆ‡æ¢(äº®è‰²/æš—è‰²)

#### çŠ¶æ€ç®¡ç† (90%)
- [x] Zustand stores(user, movie, download, ui)
- [x] TanStack Queryé…ç½®
- [x] è‡ªå®šä¹‰Hooks(useAuth, useMovies, useDownloadsç­‰)

#### è·¯ç”±ç³»ç»Ÿ (100%)
- [x] React Routeré…ç½®
- [x] è·¯ç”±æ¨¡å—åŒ–(auth, user, movie, photo, collection, admin)
- [x] è·¯ç”±å®ˆå«å®ç°
- [x] è·¯ç”±å¸¸é‡å®šä¹‰

#### é¡µé¢å®ç° (70%)
- [x] é¦–é¡µ(HomePage)
- [x] å½±ç‰‡è¯¦æƒ…é¡µ(MovieDetailPage)
- [x] å†™çœŸè¯¦æƒ…é¡µ(PhotoDetailPage)
- [x] åˆé›†åˆ—è¡¨é¡µ(CollectionsListPage)
- [x] åˆé›†è¯¦æƒ…é¡µ(CollectionDetailPage)
- [x] æœ€æ–°æ›´æ–°é¡µ(LatestUpdateListPage)
- [x] çƒ­é—¨é¡µé¢(HotListPage)
- [x] ç”¨æˆ·ä¸­å¿ƒé¡µé¢(Dashboard, Profile, Downloads, Favorites, Messages, Settings)
- [x] è®¤è¯é¡µé¢(Login, Register, ForgotPassword, ResetPassword)
- [x] ç®¡ç†åå°é¡µé¢(Dashboard, Users, Movies, System)
- [x] é”™è¯¯é¡µé¢(404, Unauthorized, Error)
- [ ] æœç´¢é¡µé¢(MovieSearchPage) - å¾…å®Œå–„
- [ ] åˆ†ç±»é¡µé¢(MovieCategoryPage) - å¾…å®Œå–„

#### APIé›†æˆ (60%)
- [x] APIå®¢æˆ·ç«¯å°è£…(ApiClient)
- [x] APIç«¯ç‚¹é…ç½®(endpoints.ts)
- [x] Mockæ•°æ®æœåŠ¡
- [x] è®¤è¯API(authApi)
- [x] ç”¨æˆ·API(userApi)
- [x] å½±ç‰‡API(movieApi)
- [x] ä¸‹è½½API(downloadApi)
- [ ] å®é™…åç«¯APIé›†æˆ - å¾…å®Œæˆ

#### æµ‹è¯• (30%)
- [x] æµ‹è¯•ç¯å¢ƒé…ç½®
- [x] éƒ¨åˆ†ç»„ä»¶å•å…ƒæµ‹è¯•
- [x] æ•°æ®æµé›†æˆæµ‹è¯•
- [ ] å®Œæ•´æµ‹è¯•è¦†ç›– - å¾…å®Œæˆ
- [ ] E2Eæµ‹è¯• - å¾…å®Œæˆ

### 3.2 åç«¯å·²å®Œæˆ âœ…

#### åŸºç¡€æ¶æ„ (0%)
- [ ] é¡¹ç›®åˆå§‹åŒ– - æœªå¼€å§‹
- [ ] Spring Booté…ç½® - æœªå¼€å§‹
- [ ] æ•°æ®åº“è®¾è®¡ - æœªå¼€å§‹
- [ ] Redisé…ç½® - æœªå¼€å§‹

**æ³¨æ„**: åç«¯ç›®å½•(KneneBackend)å½“å‰ä¸ºç©º,æ‰€æœ‰åç«¯å·¥ä½œå°šæœªå¼€å§‹ã€‚

---

## 4. å¾…å®Œæˆå·¥ä½œæ¸…å•

### 4.1 å‰ç«¯å¾…å®Œæˆ ğŸš§

#### é¡µé¢å®Œå–„ (30%)
- [ ] æœç´¢é¡µé¢åŠŸèƒ½å®Œå–„
  - [ ] é«˜çº§æœç´¢ç­›é€‰
  - [ ] æœç´¢ç»“æœæ’åº
  - [ ] æœç´¢å†å²
  - [ ] çƒ­é—¨æœç´¢æ¨è
- [ ] åˆ†ç±»é¡µé¢åŠŸèƒ½å®Œå–„
  - [ ] åˆ†ç±»ç­›é€‰å™¨
  - [ ] åˆ†é¡µåŠ è½½
  - [ ] æ’åºé€‰é¡¹
- [ ] å†™çœŸåˆ—è¡¨é¡µ(PhotoListPage)åŠŸèƒ½å®Œå–„
- [ ] ä¸“é¢˜åˆé›†é¡µ(SpecialCollectionsPage)åŠŸèƒ½å®Œå–„

#### åŠŸèƒ½å¢å¼º (0%)
- [ ] ä¸‹è½½ç®¡ç†å™¨
  - [ ] ä¸‹è½½é˜Ÿåˆ—ç®¡ç†
  - [ ] ä¸‹è½½è¿›åº¦å®æ—¶æ›´æ–°
  - [ ] æ–­ç‚¹ç»­ä¼ 
  - [ ] ä¸‹è½½é€Ÿåº¦é™åˆ¶
- [ ] æ’­æ”¾å™¨é›†æˆ
  - [ ] åœ¨çº¿é¢„è§ˆ
  - [ ] å­—å¹•æ”¯æŒ
  - [ ] æ’­æ”¾å†å²è®°å½•
- [ ] ç¤¾äº¤åŠŸèƒ½
  - [ ] è¯„è®ºç³»ç»Ÿå®Œå–„
  - [ ] ç‚¹èµ/æ”¶è—
  - [ ] ç”¨æˆ·å…³æ³¨
  - [ ] æ¶ˆæ¯é€šçŸ¥
- [ ] æ”¯ä»˜ç³»ç»Ÿ
  - [ ] VIPä¼šå‘˜è´­ä¹°
  - [ ] æ”¯ä»˜å®/å¾®ä¿¡æ”¯ä»˜é›†æˆ
  - [ ] è®¢å•ç®¡ç†

#### æ€§èƒ½ä¼˜åŒ– (0%)
- [ ] ä»£ç åˆ†å‰²ä¼˜åŒ–
- [ ] å›¾ç‰‡æ‡’åŠ è½½
- [ ] è™šæ‹Ÿæ»šåŠ¨
- [ ] Service Workerç¼“å­˜
- [ ] CDNé›†æˆ

#### æµ‹è¯•å®Œå–„ (70%)
- [ ] ç»„ä»¶å•å…ƒæµ‹è¯•è¦†ç›–ç‡è¾¾åˆ°80%
- [ ] é›†æˆæµ‹è¯•
- [ ] E2Eæµ‹è¯•åœºæ™¯
- [ ] æ€§èƒ½æµ‹è¯•

#### æ–‡æ¡£å®Œå–„ (50%)
- [ ] Storybookç»„ä»¶æ–‡æ¡£
- [ ] APIä½¿ç”¨æ–‡æ¡£
- [ ] éƒ¨ç½²æ–‡æ¡£
- [ ] å¼€å‘è§„èŒƒæ–‡æ¡£

### 4.2 åç«¯å¾…å®Œæˆ ğŸš§

#### åŸºç¡€æ¶æ„ (0%)
- [ ] Spring Booté¡¹ç›®åˆå§‹åŒ–
- [ ] å¤šç¯å¢ƒé…ç½®(dev, test, prod)
- [ ] æ—¥å¿—é…ç½®
- [ ] å¼‚å¸¸å¤„ç†æ¡†æ¶
- [ ] ç»Ÿä¸€å“åº”æ ¼å¼

#### æ•°æ®åº“è®¾è®¡ (0%)
- [ ] ç”¨æˆ·è¡¨è®¾è®¡
- [ ] å½±ç‰‡è¡¨è®¾è®¡
- [ ] å†™çœŸè¡¨è®¾è®¡
- [ ] åˆé›†è¡¨è®¾è®¡
- [ ] ä¸‹è½½è®°å½•è¡¨è®¾è®¡
- [ ] è¯„è®ºè¡¨è®¾è®¡
- [ ] è®¢å•è¡¨è®¾è®¡
- [ ] æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–
- [ ] æ•°æ®åº“è¿ç§»è„šæœ¬

#### æ ¸å¿ƒåŠŸèƒ½ (0%)
- [ ] ç”¨æˆ·è®¤è¯ä¸æˆæƒ
  - [ ] JWT Tokenç”Ÿæˆä¸éªŒè¯
  - [ ] åˆ·æ–°Tokenæœºåˆ¶
  - [ ] æƒé™æ§åˆ¶(RBAC)
  - [ ] ç¤¾äº¤ç™»å½•é›†æˆ
- [ ] ç”¨æˆ·ç®¡ç†
  - [ ] ç”¨æˆ·æ³¨å†Œ
  - [ ] ç”¨æˆ·ç™»å½•
  - [ ] å¯†ç æ‰¾å›
  - [ ] ä¸ªäººä¿¡æ¯ç®¡ç†
  - [ ] VIPä¼šå‘˜ç®¡ç†
- [ ] å½±ç‰‡ç®¡ç†
  - [ ] å½±ç‰‡CRUD
  - [ ] å½±ç‰‡æœç´¢
  - [ ] å½±ç‰‡åˆ†ç±»
  - [ ] å½±ç‰‡æ¨èç®—æ³•
  - [ ] å½±ç‰‡ç»Ÿè®¡
- [ ] å†™çœŸç®¡ç†
  - [ ] å†™çœŸCRUD
  - [ ] å†™çœŸæœç´¢
  - [ ] å†™çœŸåˆ†ç±»
- [ ] åˆé›†ç®¡ç†
  - [ ] åˆé›†CRUD
  - [ ] åˆé›†å½±ç‰‡å…³è”
- [ ] ä¸‹è½½ç®¡ç†
  - [ ] ä¸‹è½½é“¾æ¥ç”Ÿæˆ
  - [ ] ä¸‹è½½æƒé™éªŒè¯
  - [ ] ä¸‹è½½ç»Ÿè®¡
  - [ ] ä¸‹è½½é™é€Ÿ
- [ ] è¯„è®ºç³»ç»Ÿ
  - [ ] è¯„è®ºCRUD
  - [ ] è¯„è®ºå®¡æ ¸
  - [ ] è¯„è®ºç‚¹èµ
- [ ] æœç´¢åŠŸèƒ½
  - [ ] Elasticsearché›†æˆ
  - [ ] å…¨æ–‡æœç´¢
  - [ ] æœç´¢å»ºè®®
  - [ ] æœç´¢ç»Ÿè®¡

#### çˆ¬è™«ç³»ç»Ÿ (0%)
- [ ] çˆ¬è™«æ¡†æ¶æ­å»º
- [ ] YTSçˆ¬è™«å®ç°
- [ ] VIPèµ„æºçˆ¬è™«å®ç°
- [ ] å¤§æ¨¡å‹é›†æˆ
  - [ ] å†…å®¹ç†è§£ä¸åˆ†ç±»
  - [ ] è‡ªåŠ¨æ ‡ç­¾ç”Ÿæˆ
  - [ ] å†…å®¹è´¨é‡è¯„ä¼°
- [ ] çˆ¬è™«è°ƒåº¦ç³»ç»Ÿ
- [ ] æ•°æ®æ¸…æ´—ä¸å»é‡
- [ ] åçˆ¬è™«ç­–ç•¥

#### æ–‡ä»¶å­˜å‚¨ (0%)
- [ ] MinIO/OSSé›†æˆ
- [ ] æ–‡ä»¶ä¸Šä¼ æ¥å£
- [ ] æ–‡ä»¶ä¸‹è½½æ¥å£
- [ ] å›¾ç‰‡å¤„ç†(ç¼©ç•¥å›¾ã€æ°´å°)
- [ ] CDNé›†æˆ

#### ç¼“å­˜ç³»ç»Ÿ (0%)
- [ ] Redisé›†æˆ
- [ ] ç¼“å­˜ç­–ç•¥è®¾è®¡
- [ ] çƒ­ç‚¹æ•°æ®ç¼“å­˜
- [ ] ç¼“å­˜æ›´æ–°æœºåˆ¶
- [ ] ç¼“å­˜ç©¿é€/é›ªå´©é˜²æŠ¤

#### æ¶ˆæ¯é˜Ÿåˆ— (0%)
- [ ] RabbitMQ/Kafkaé›†æˆ
- [ ] å¼‚æ­¥ä»»åŠ¡å¤„ç†
- [ ] æ¶ˆæ¯é€šçŸ¥
- [ ] çˆ¬è™«ä»»åŠ¡é˜Ÿåˆ—

#### æ”¯ä»˜ç³»ç»Ÿ (0%)
- [ ] æ”¯ä»˜å®é›†æˆ
- [ ] å¾®ä¿¡æ”¯ä»˜é›†æˆ
- [ ] è®¢å•ç®¡ç†
- [ ] æ”¯ä»˜å›è°ƒå¤„ç†
- [ ] é€€æ¬¾å¤„ç†

#### ç®¡ç†åå° (0%)
- [ ] ç”¨æˆ·ç®¡ç†æ¥å£
- [ ] å†…å®¹ç®¡ç†æ¥å£
- [ ] ç³»ç»Ÿé…ç½®æ¥å£
- [ ] æ•°æ®ç»Ÿè®¡æ¥å£
- [ ] æ—¥å¿—æŸ¥è¯¢æ¥å£

#### ç›‘æ§ä¸è¿ç»´ (0%)
- [ ] Spring Boot Actuatoré…ç½®
- [ ] PrometheusæŒ‡æ ‡å¯¼å‡º
- [ ] æ—¥å¿—æ”¶é›†(ELK)
- [ ] æ€§èƒ½ç›‘æ§
- [ ] å‘Šè­¦é…ç½®

#### æµ‹è¯• (0%)
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] æ¥å£æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] å®‰å…¨æµ‹è¯•

#### æ–‡æ¡£ (0%)
- [ ] Swagger/OpenAPIæ–‡æ¡£
- [ ] æ•°æ®åº“è®¾è®¡æ–‡æ¡£
- [ ] éƒ¨ç½²æ–‡æ¡£
- [ ] è¿ç»´æ‰‹å†Œ

---


## 5. è¯¦ç»†å¼€å‘ä»»åŠ¡

### 5.1 ç¬¬ä¸€é˜¶æ®µ:åç«¯åŸºç¡€æ¶æ„æ­å»º (é¢„è®¡2å‘¨)

#### ä»»åŠ¡5.1.1: é¡¹ç›®åˆå§‹åŒ– (2å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P0 (æœ€é«˜)

**è¯¦ç»†æ­¥éª¤**:
1. åˆ›å»ºSpring Booté¡¹ç›®(ä½¿ç”¨Spring Initializr)
   - é€‰æ‹©Java 17
   - é€‰æ‹©Spring Boot 3.2.x
   - æ·»åŠ ä¾èµ–: Web, JPA, MySQL, Redis, Security, Validation
2. é…ç½®Maven/Gradleæ„å»ºæ–‡ä»¶
3. é…ç½®å¤šç¯å¢ƒ(dev, test, prod)
   - application.yml
   - application-dev.yml
   - application-test.yml
   - application-prod.yml
4. é…ç½®æ—¥å¿—ç³»ç»Ÿ(Logback)
5. é…ç½®ç»Ÿä¸€å¼‚å¸¸å¤„ç†
6. é…ç½®ç»Ÿä¸€å“åº”æ ¼å¼
7. é…ç½®Swagger/OpenAPIæ–‡æ¡£

**äº¤ä»˜ç‰©**:
- å¯è¿è¡Œçš„Spring Booté¡¹ç›®
- å®Œæ•´çš„é…ç½®æ–‡ä»¶
- Hello Worldæ¥å£æµ‹è¯•é€šè¿‡

#### ä»»åŠ¡5.1.2: æ•°æ®åº“è®¾è®¡ä¸åˆå§‹åŒ– (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘ + DBA  
**ä¼˜å…ˆçº§**: P0

**è¯¦ç»†æ­¥éª¤**:
1. è®¾è®¡æ•°æ®åº“ERå›¾
2. åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„
   - ç”¨æˆ·è¡¨(user)
   - è§’è‰²è¡¨(role)
   - æƒé™è¡¨(permission)
   - ç”¨æˆ·è§’è‰²å…³è”è¡¨(user_role)
   - è§’è‰²æƒé™å…³è”è¡¨(role_permission)
   - å½±ç‰‡è¡¨(movie)
   - å†™çœŸè¡¨(photo)
   - åˆé›†è¡¨(collection)
   - åˆé›†å½±ç‰‡å…³è”è¡¨(collection_movie)
   - ä¸‹è½½è®°å½•è¡¨(download_record)
   - è¯„è®ºè¡¨(comment)
   - è¯„åˆ†è¡¨(rating)
   - æ”¶è—è¡¨(favorite)
   - è§‚çœ‹å†å²è¡¨(watch_history)
   - è®¢å•è¡¨(order)
   - æ”¯ä»˜è®°å½•è¡¨(payment)
   - ç³»ç»Ÿé…ç½®è¡¨(system_config)
   - çˆ¬è™«ä»»åŠ¡è¡¨(crawler_task)
   - çˆ¬è™«æ•°æ®è¡¨(crawler_data)
3. åˆ›å»ºæ•°æ®åº“ç´¢å¼•
4. ç¼–å†™Flyway/Liquibaseè¿ç§»è„šæœ¬
5. åˆå§‹åŒ–åŸºç¡€æ•°æ®(è§’è‰²ã€æƒé™ç­‰)

**äº¤ä»˜ç‰©**:
- æ•°æ®åº“è®¾è®¡æ–‡æ¡£
- SQLå»ºè¡¨è„šæœ¬
- æ•°æ®åº“è¿ç§»è„šæœ¬
- åˆå§‹åŒ–æ•°æ®è„šæœ¬

#### ä»»åŠ¡5.1.3: Redisé…ç½®ä¸ç¼“å­˜ç­–ç•¥ (2å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P0

**è¯¦ç»†æ­¥éª¤**:
1. é…ç½®Redisè¿æ¥
2. é…ç½®Redisåºåˆ—åŒ–
3. é…ç½®Spring Cache
4. è®¾è®¡ç¼“å­˜Keyè§„èŒƒ
5. å®ç°ç¼“å­˜å·¥å…·ç±»
6. é…ç½®ç¼“å­˜è¿‡æœŸç­–ç•¥
7. å®ç°ç¼“å­˜é¢„çƒ­æœºåˆ¶

**äº¤ä»˜ç‰©**:
- Redisé…ç½®æ–‡ä»¶
- ç¼“å­˜å·¥å…·ç±»
- ç¼“å­˜ç­–ç•¥æ–‡æ¡£

#### ä»»åŠ¡5.1.4: å®‰å…¨æ¡†æ¶é…ç½® (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P0

**è¯¦ç»†æ­¥éª¤**:
1. é…ç½®Spring Security
2. å®ç°JWT Tokenç”Ÿæˆä¸éªŒè¯
3. å®ç°åˆ·æ–°Tokenæœºåˆ¶
4. é…ç½®CORS
5. é…ç½®CSRFé˜²æŠ¤
6. å®ç°æƒé™æ‹¦æˆªå™¨
7. å®ç°ç™»å½•å¤±è´¥é™åˆ¶
8. å®ç°å¯†ç åŠ å¯†(BCrypt)

**äº¤ä»˜ç‰©**:
- Securityé…ç½®ç±»
- JWTå·¥å…·ç±»
- æƒé™æ‹¦æˆªå™¨
- å®‰å…¨é…ç½®æ–‡æ¡£

#### ä»»åŠ¡5.1.5: åŸºç¡€å®ä½“ç±»ä¸Repository (2å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P0

**è¯¦ç»†æ­¥éª¤**:
1. åˆ›å»ºåŸºç¡€å®ä½“ç±»(BaseEntity)
2. åˆ›å»ºæ‰€æœ‰å®ä½“ç±»
3. é…ç½®JPAå®¡è®¡(åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´)
4. åˆ›å»ºæ‰€æœ‰Repositoryæ¥å£
5. ç¼–å†™åŸºç¡€CRUDæ–¹æ³•
6. ç¼–å†™è‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³•

**äº¤ä»˜ç‰©**:
- æ‰€æœ‰å®ä½“ç±»
- æ‰€æœ‰Repositoryæ¥å£
- å•å…ƒæµ‹è¯•

### 5.2 ç¬¬äºŒé˜¶æ®µ:æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘ (é¢„è®¡4å‘¨)

#### ä»»åŠ¡5.2.1: ç”¨æˆ·è®¤è¯ä¸æˆæƒ (5å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P0

**è¯¦ç»†æ­¥éª¤**:
1. å®ç°ç”¨æˆ·æ³¨å†Œæ¥å£
   - é‚®ç®±éªŒè¯
   - æ‰‹æœºéªŒè¯
   - ç”¨æˆ·åå”¯ä¸€æ€§æ£€æŸ¥
2. å®ç°ç”¨æˆ·ç™»å½•æ¥å£
   - ç”¨æˆ·å/é‚®ç®±/æ‰‹æœºç™»å½•
   - å¯†ç éªŒè¯
   - ç”ŸæˆJWT Token
   - è®°å½•ç™»å½•æ—¥å¿—
3. å®ç°ç™»å‡ºæ¥å£
   - Tokenå¤±æ•ˆ
   - æ¸…é™¤Redisç¼“å­˜
4. å®ç°åˆ·æ–°Tokenæ¥å£
5. å®ç°å¯†ç æ‰¾å›æ¥å£
   - å‘é€éªŒè¯ç 
   - éªŒè¯ç éªŒè¯
   - é‡ç½®å¯†ç 
6. å®ç°ä¿®æ”¹å¯†ç æ¥å£
7. å®ç°ç¤¾äº¤ç™»å½•(å¯é€‰)
   - Googleç™»å½•
   - GitHubç™»å½•

**APIæ¥å£**:
- POST /api/auth/register - ç”¨æˆ·æ³¨å†Œ
- POST /api/auth/login - ç”¨æˆ·ç™»å½•
- POST /api/auth/logout - ç”¨æˆ·ç™»å‡º
- POST /api/auth/refresh - åˆ·æ–°Token
- POST /api/auth/forgot-password - å¿˜è®°å¯†ç 
- POST /api/auth/reset-password - é‡ç½®å¯†ç 
- POST /api/auth/change-password - ä¿®æ”¹å¯†ç 
- GET /api/auth/profile - è·å–ç”¨æˆ·ä¿¡æ¯
- PUT /api/auth/profile - æ›´æ–°ç”¨æˆ·ä¿¡æ¯

**äº¤ä»˜ç‰©**:
- è®¤è¯æœåŠ¡ç±»
- è®¤è¯æ§åˆ¶å™¨
- å•å…ƒæµ‹è¯•
- æ¥å£æ–‡æ¡£

#### ä»»åŠ¡5.2.2: ç”¨æˆ·ç®¡ç† (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P1

**è¯¦ç»†æ­¥éª¤**:
1. å®ç°ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢æ¥å£
2. å®ç°ç”¨æˆ·ä¿¡æ¯æ›´æ–°æ¥å£
3. å®ç°ç”¨æˆ·å¤´åƒä¸Šä¼ æ¥å£
4. å®ç°ç”¨æˆ·åå¥½è®¾ç½®æ¥å£
5. å®ç°ç”¨æˆ·æ”¶è—ç®¡ç†æ¥å£
6. å®ç°ç”¨æˆ·è§‚çœ‹å†å²æ¥å£
7. å®ç°ç”¨æˆ·ä¸‹è½½å†å²æ¥å£
8. å®ç°ç”¨æˆ·ç»Ÿè®¡æ¥å£

**APIæ¥å£**:
- GET /api/users/{id} - è·å–ç”¨æˆ·ä¿¡æ¯
- PUT /api/users/{id} - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- POST /api/users/avatar - ä¸Šä¼ å¤´åƒ
- GET /api/users/preferences - è·å–åå¥½è®¾ç½®
- PUT /api/users/preferences - æ›´æ–°åå¥½è®¾ç½®
- GET /api/users/favorites - è·å–æ”¶è—åˆ—è¡¨
- POST /api/users/favorites - æ·»åŠ æ”¶è—
- DELETE /api/users/favorites/{movieId} - å–æ¶ˆæ”¶è—
- GET /api/users/watch-history - è·å–è§‚çœ‹å†å²
- POST /api/users/watch-history - æ·»åŠ è§‚çœ‹è®°å½•
- GET /api/users/download-history - è·å–ä¸‹è½½å†å²
- GET /api/users/stats - è·å–ç”¨æˆ·ç»Ÿè®¡

**äº¤ä»˜ç‰©**:
- ç”¨æˆ·æœåŠ¡ç±»
- ç”¨æˆ·æ§åˆ¶å™¨
- å•å…ƒæµ‹è¯•
- æ¥å£æ–‡æ¡£

#### ä»»åŠ¡5.2.3: å½±ç‰‡ç®¡ç† (5å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P0

**è¯¦ç»†æ­¥éª¤**:
1. å®ç°å½±ç‰‡CRUDæ¥å£
   - åˆ›å»ºå½±ç‰‡
   - æ›´æ–°å½±ç‰‡
   - åˆ é™¤å½±ç‰‡
   - æŸ¥è¯¢å½±ç‰‡è¯¦æƒ…
2. å®ç°å½±ç‰‡åˆ—è¡¨æŸ¥è¯¢æ¥å£
   - åˆ†é¡µæŸ¥è¯¢
   - æ¡ä»¶ç­›é€‰
   - æ’åº
3. å®ç°å½±ç‰‡åˆ†ç±»æ¥å£
4. å®ç°å½±ç‰‡æœç´¢æ¥å£
5. å®ç°å½±ç‰‡æ¨èæ¥å£
6. å®ç°å½±ç‰‡ç»Ÿè®¡æ¥å£
7. å®ç°å½±ç‰‡è¯„åˆ†æ¥å£
8. å®ç°å½±ç‰‡è¯„è®ºæ¥å£

**APIæ¥å£**:
- GET /api/movies - å½±ç‰‡åˆ—è¡¨
- GET /api/movies/{id} - å½±ç‰‡è¯¦æƒ…
- POST /api/movies - åˆ›å»ºå½±ç‰‡(ç®¡ç†å‘˜)
- PUT /api/movies/{id} - æ›´æ–°å½±ç‰‡(ç®¡ç†å‘˜)
- DELETE /api/movies/{id} - åˆ é™¤å½±ç‰‡(ç®¡ç†å‘˜)
- GET /api/movies/search - æœç´¢å½±ç‰‡
- GET /api/movies/categories - è·å–åˆ†ç±»
- GET /api/movies/categories/{id} - åˆ†ç±»å½±ç‰‡
- GET /api/movies/recommendations - æ¨èå½±ç‰‡
- GET /api/movies/{id}/similar - ç›¸ä¼¼å½±ç‰‡
- GET /api/movies/hot - çƒ­é—¨å½±ç‰‡
- GET /api/movies/latest - æœ€æ–°å½±ç‰‡
- GET /api/movies/top-rated - é«˜è¯„åˆ†å½±ç‰‡
- POST /api/movies/{id}/ratings - æ·»åŠ è¯„åˆ†
- GET /api/movies/{id}/comments - è·å–è¯„è®º
- POST /api/movies/{id}/comments - æ·»åŠ è¯„è®º
- GET /api/movies/{id}/stats - å½±ç‰‡ç»Ÿè®¡

**äº¤ä»˜ç‰©**:
- å½±ç‰‡æœåŠ¡ç±»
- å½±ç‰‡æ§åˆ¶å™¨
- å•å…ƒæµ‹è¯•
- æ¥å£æ–‡æ¡£

#### ä»»åŠ¡5.2.4: å†™çœŸç®¡ç† (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P1

**è¯¦ç»†æ­¥éª¤**:
1. å®ç°å†™çœŸCRUDæ¥å£
2. å®ç°å†™çœŸåˆ—è¡¨æŸ¥è¯¢æ¥å£
3. å®ç°å†™çœŸåˆ†ç±»æ¥å£
4. å®ç°å†™çœŸæœç´¢æ¥å£
5. å®ç°å†™çœŸç»Ÿè®¡æ¥å£

**APIæ¥å£**:
- GET /api/photos - å†™çœŸåˆ—è¡¨
- GET /api/photos/{id} - å†™çœŸè¯¦æƒ…
- POST /api/photos - åˆ›å»ºå†™çœŸ(ç®¡ç†å‘˜)
- PUT /api/photos/{id} - æ›´æ–°å†™çœŸ(ç®¡ç†å‘˜)
- DELETE /api/photos/{id} - åˆ é™¤å†™çœŸ(ç®¡ç†å‘˜)
- GET /api/photos/search - æœç´¢å†™çœŸ
- GET /api/photos/categories - è·å–åˆ†ç±»
- GET /api/photos/hot - çƒ­é—¨å†™çœŸ
- GET /api/photos/latest - æœ€æ–°å†™çœŸ

**äº¤ä»˜ç‰©**:
- å†™çœŸæœåŠ¡ç±»
- å†™çœŸæ§åˆ¶å™¨
- å•å…ƒæµ‹è¯•
- æ¥å£æ–‡æ¡£

#### ä»»åŠ¡5.2.5: åˆé›†ç®¡ç† (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P1

**è¯¦ç»†æ­¥éª¤**:
1. å®ç°åˆé›†CRUDæ¥å£
2. å®ç°åˆé›†åˆ—è¡¨æŸ¥è¯¢æ¥å£
3. å®ç°åˆé›†å½±ç‰‡å…³è”æ¥å£
4. å®ç°åˆé›†ç»Ÿè®¡æ¥å£

**APIæ¥å£**:
- GET /api/collections - åˆé›†åˆ—è¡¨
- GET /api/collections/{id} - åˆé›†è¯¦æƒ…
- GET /api/collections/{id}/movies - åˆé›†å½±ç‰‡
- POST /api/collections - åˆ›å»ºåˆé›†(ç®¡ç†å‘˜)
- PUT /api/collections/{id} - æ›´æ–°åˆé›†(ç®¡ç†å‘˜)
- DELETE /api/collections/{id} - åˆ é™¤åˆé›†(ç®¡ç†å‘˜)
- POST /api/collections/{id}/movies - æ·»åŠ å½±ç‰‡åˆ°åˆé›†
- DELETE /api/collections/{id}/movies/{movieId} - ä»åˆé›†ç§»é™¤å½±ç‰‡

**äº¤ä»˜ç‰©**:
- åˆé›†æœåŠ¡ç±»
- åˆé›†æ§åˆ¶å™¨
- å•å…ƒæµ‹è¯•
- æ¥å£æ–‡æ¡£

#### ä»»åŠ¡5.2.6: ä¸‹è½½ç®¡ç† (4å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P0

**è¯¦ç»†æ­¥éª¤**:
1. å®ç°ä¸‹è½½é“¾æ¥ç”Ÿæˆæ¥å£
   - æƒé™éªŒè¯
   - VIPéªŒè¯
   - ä¸‹è½½æ¬¡æ•°é™åˆ¶
   - ç”Ÿæˆä¸´æ—¶ä¸‹è½½é“¾æ¥
2. å®ç°ä¸‹è½½è®°å½•æ¥å£
3. å®ç°ä¸‹è½½ç»Ÿè®¡æ¥å£
4. å®ç°ä¸‹è½½é˜Ÿåˆ—ç®¡ç†
5. å®ç°ä¸‹è½½é™é€Ÿ

**APIæ¥å£**:
- POST /api/downloads/start - å¼€å§‹ä¸‹è½½
- GET /api/downloads - ä¸‹è½½åˆ—è¡¨
- GET /api/downloads/{id} - ä¸‹è½½è¯¦æƒ…
- PUT /api/downloads/{id}/pause - æš‚åœä¸‹è½½
- PUT /api/downloads/{id}/resume - æ¢å¤ä¸‹è½½
- DELETE /api/downloads/{id} - å–æ¶ˆä¸‹è½½
- GET /api/downloads/history - ä¸‹è½½å†å²
- GET /api/downloads/stats - ä¸‹è½½ç»Ÿè®¡

**äº¤ä»˜ç‰©**:
- ä¸‹è½½æœåŠ¡ç±»
- ä¸‹è½½æ§åˆ¶å™¨
- å•å…ƒæµ‹è¯•
- æ¥å£æ–‡æ¡£

#### ä»»åŠ¡5.2.7: è¯„è®ºç³»ç»Ÿ (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P2

**è¯¦ç»†æ­¥éª¤**:
1. å®ç°è¯„è®ºCRUDæ¥å£
2. å®ç°è¯„è®ºå®¡æ ¸æ¥å£
3. å®ç°è¯„è®ºç‚¹èµæ¥å£
4. å®ç°è¯„è®ºå›å¤æ¥å£
5. å®ç°è¯„è®ºä¸¾æŠ¥æ¥å£

**APIæ¥å£**:
- GET /api/movies/{id}/comments - è·å–è¯„è®º
- POST /api/movies/{id}/comments - æ·»åŠ è¯„è®º
- PUT /api/comments/{id} - æ›´æ–°è¯„è®º
- DELETE /api/comments/{id} - åˆ é™¤è¯„è®º
- POST /api/comments/{id}/like - ç‚¹èµè¯„è®º
- POST /api/comments/{id}/reply - å›å¤è¯„è®º
- POST /api/comments/{id}/report - ä¸¾æŠ¥è¯„è®º

**äº¤ä»˜ç‰©**:
- è¯„è®ºæœåŠ¡ç±»
- è¯„è®ºæ§åˆ¶å™¨
- å•å…ƒæµ‹è¯•
- æ¥å£æ–‡æ¡£

### 5.3 ç¬¬ä¸‰é˜¶æ®µ:æœç´¢ä¸æ¨èç³»ç»Ÿ (é¢„è®¡2å‘¨)

#### ä»»åŠ¡5.3.1: Elasticsearché›†æˆ (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P1

**è¯¦ç»†æ­¥éª¤**:
1. é…ç½®Elasticsearchè¿æ¥
2. åˆ›å»ºç´¢å¼•æ˜ å°„
3. å®ç°æ•°æ®åŒæ­¥æœºåˆ¶
4. å®ç°å…¨æ–‡æœç´¢
5. å®ç°æœç´¢å»ºè®®
6. å®ç°é«˜çº§ç­›é€‰
7. å®ç°æœç´¢ç»Ÿè®¡

**äº¤ä»˜ç‰©**:
- Elasticsearché…ç½®
- ç´¢å¼•æ˜ å°„æ–‡ä»¶
- æœç´¢æœåŠ¡ç±»
- æ•°æ®åŒæ­¥è„šæœ¬

#### ä»»åŠ¡5.3.2: æ¨èç®—æ³•å®ç° (4å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘ + ç®—æ³•å·¥ç¨‹å¸ˆ  
**ä¼˜å…ˆçº§**: P2

**è¯¦ç»†æ­¥éª¤**:
1. å®ç°åŸºäºå†…å®¹çš„æ¨è
   - ç›¸ä¼¼å½±ç‰‡æ¨è
   - åŸºäºæ ‡ç­¾æ¨è
2. å®ç°ååŒè¿‡æ»¤æ¨è
   - ç”¨æˆ·è¡Œä¸ºåˆ†æ
   - ç›¸ä¼¼ç”¨æˆ·æ¨è
3. å®ç°çƒ­é—¨æ¨è
   - çƒ­åº¦è®¡ç®—ç®—æ³•
   - æ—¶é—´è¡°å‡
4. å®ç°ä¸ªæ€§åŒ–æ¨è
   - ç”¨æˆ·ç”»åƒæ„å»º
   - æ¨èæ¨¡å‹è®­ç»ƒ

**äº¤ä»˜ç‰©**:
- æ¨èæœåŠ¡ç±»
- æ¨èç®—æ³•æ–‡æ¡£
- æ¨èæ•ˆæœè¯„ä¼°æŠ¥å‘Š

### 5.4 ç¬¬å››é˜¶æ®µ:çˆ¬è™«ç³»ç»Ÿå¼€å‘ (é¢„è®¡3å‘¨)

#### ä»»åŠ¡5.4.1: çˆ¬è™«æ¡†æ¶æ­å»º (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P1

**è¯¦ç»†æ­¥éª¤**:
1. è®¾è®¡çˆ¬è™«æ¶æ„
2. å®ç°çˆ¬è™«åŸºç±»
3. å®ç°çˆ¬è™«è°ƒåº¦å™¨
4. å®ç°çˆ¬è™«ä»»åŠ¡é˜Ÿåˆ—
5. å®ç°çˆ¬è™«æ•°æ®å­˜å‚¨
6. å®ç°çˆ¬è™«ç›‘æ§
7. å®ç°åçˆ¬è™«ç­–ç•¥
   - User-Agentè½®æ¢
   - IPä»£ç†æ± 
   - è¯·æ±‚é¢‘ç‡æ§åˆ¶
   - Cookieç®¡ç†

**äº¤ä»˜ç‰©**:
- çˆ¬è™«æ¡†æ¶ä»£ç 
- çˆ¬è™«é…ç½®æ–‡ä»¶
- çˆ¬è™«æ¶æ„æ–‡æ¡£

#### ä»»åŠ¡5.4.2: YTSçˆ¬è™«å®ç° (4å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P1

**è¯¦ç»†æ­¥éª¤**:
1. åˆ†æYTSç½‘ç«™ç»“æ„
2. å®ç°å½±ç‰‡åˆ—è¡¨çˆ¬å–
3. å®ç°å½±ç‰‡è¯¦æƒ…çˆ¬å–
4. å®ç°ä¸‹è½½é“¾æ¥æå–
5. å®ç°æ•°æ®æ¸…æ´—
6. å®ç°æ•°æ®å»é‡
7. å®ç°å¢é‡æ›´æ–°
8. å®ç°é”™è¯¯é‡è¯•

**çˆ¬å–å†…å®¹**:
- å½±ç‰‡æ ‡é¢˜
- å½±ç‰‡æµ·æŠ¥
- å½±ç‰‡æè¿°
- å½±ç‰‡ç±»å‹
- ä¸Šæ˜ å¹´ä»½
- IMDbè¯„åˆ†
- ä¸‹è½½é“¾æ¥(å¤šç§è´¨é‡)
- å­—å¹•é“¾æ¥

**äº¤ä»˜ç‰©**:
- YTSçˆ¬è™«å®ç°
- çˆ¬è™«é…ç½®
- çˆ¬å–æ•°æ®æ ·ä¾‹
- çˆ¬è™«è¿è¡Œæ—¥å¿—

#### ä»»åŠ¡5.4.3: VIPèµ„æºçˆ¬è™«å®ç° (5å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P1

**è¯¦ç»†æ­¥éª¤**:
1. ç¡®å®šVIPèµ„æºæ¥æºç½‘ç«™
2. åˆ†æç½‘ç«™ç»“æ„
3. å®ç°ç™»å½•æ¨¡æ‹Ÿ(å¦‚éœ€è¦)
4. å®ç°èµ„æºåˆ—è¡¨çˆ¬å–
5. å®ç°èµ„æºè¯¦æƒ…çˆ¬å–
6. å®ç°ä¸‹è½½é“¾æ¥æå–
7. å®ç°æ•°æ®æ¸…æ´—
8. å®ç°æ•°æ®å»é‡
9. å®ç°å¢é‡æ›´æ–°

**äº¤ä»˜ç‰©**:
- VIPèµ„æºçˆ¬è™«å®ç°
- çˆ¬è™«é…ç½®
- çˆ¬å–æ•°æ®æ ·ä¾‹

#### ä»»åŠ¡5.4.4: å¤§æ¨¡å‹é›†æˆ (5å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘ + AIå·¥ç¨‹å¸ˆ  
**ä¼˜å…ˆçº§**: P2

**è¯¦ç»†æ­¥éª¤**:
1. é€‰æ‹©å¤§æ¨¡å‹æ–¹æ¡ˆ
   - OpenAI GPT-4 API
   - Claude 3 API
   - æœ¬åœ°éƒ¨ç½²Llama 3
2. å®ç°å¤§æ¨¡å‹è°ƒç”¨å°è£…
3. å®ç°å†…å®¹ç†è§£åŠŸèƒ½
   - å½±ç‰‡å†…å®¹åˆ†æ
   - è‡ªåŠ¨ç”Ÿæˆæè¿°
   - å†…å®¹åˆ†ç±»
4. å®ç°è‡ªåŠ¨æ ‡ç­¾ç”Ÿæˆ
5. å®ç°å†…å®¹è´¨é‡è¯„ä¼°
6. å®ç°æ•æ„Ÿå†…å®¹æ£€æµ‹
7. ä¼˜åŒ–Promptå·¥ç¨‹

**åº”ç”¨åœºæ™¯**:
- è‡ªåŠ¨ç”Ÿæˆå½±ç‰‡æè¿°
- æ™ºèƒ½åˆ†ç±»å’Œæ‰“æ ‡ç­¾
- å†…å®¹è´¨é‡è¯„åˆ†
- æ•æ„Ÿå†…å®¹è¿‡æ»¤
- æœç´¢æŸ¥è¯¢ç†è§£
- æ¨èç†ç”±ç”Ÿæˆ

**äº¤ä»˜ç‰©**:
- å¤§æ¨¡å‹æœåŠ¡ç±»
- Promptæ¨¡æ¿
- é›†æˆæ–‡æ¡£
- æ•ˆæœè¯„ä¼°æŠ¥å‘Š

### 5.5 ç¬¬äº”é˜¶æ®µ:æ–‡ä»¶å­˜å‚¨ä¸CDN (é¢„è®¡1å‘¨)

#### ä»»åŠ¡5.5.1: MinIO/OSSé›†æˆ (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P1

**è¯¦ç»†æ­¥éª¤**:
1. é…ç½®MinIO/OSS
2. å®ç°æ–‡ä»¶ä¸Šä¼ æ¥å£
3. å®ç°æ–‡ä»¶ä¸‹è½½æ¥å£
4. å®ç°æ–‡ä»¶åˆ é™¤æ¥å£
5. å®ç°å›¾ç‰‡å¤„ç†
   - ç¼©ç•¥å›¾ç”Ÿæˆ
   - æ°´å°æ·»åŠ 
   - æ ¼å¼è½¬æ¢
6. å®ç°æ–‡ä»¶è®¿é—®æƒé™æ§åˆ¶

**äº¤ä»˜ç‰©**:
- æ–‡ä»¶å­˜å‚¨æœåŠ¡ç±»
- æ–‡ä»¶ä¸Šä¼ æ¥å£
- æ–‡ä»¶ä¸‹è½½æ¥å£
- é…ç½®æ–‡æ¡£

#### ä»»åŠ¡5.5.2: CDNé›†æˆ (2å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘ + è¿ç»´  
**ä¼˜å…ˆçº§**: P2

**è¯¦ç»†æ­¥éª¤**:
1. é€‰æ‹©CDNæœåŠ¡å•†
2. é…ç½®CDN
3. å®ç°CDN URLç”Ÿæˆ
4. å®ç°CDNç¼“å­˜åˆ·æ–°
5. é…ç½®CDNé˜²ç›—é“¾

**äº¤ä»˜ç‰©**:
- CDNé…ç½®æ–‡æ¡£
- CDNæœåŠ¡ç±»

### 5.6 ç¬¬å…­é˜¶æ®µ:æ”¯ä»˜ç³»ç»Ÿ (é¢„è®¡1å‘¨)

#### ä»»åŠ¡5.6.1: æ”¯ä»˜å®é›†æˆ (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P2

**è¯¦ç»†æ­¥éª¤**:
1. ç”³è¯·æ”¯ä»˜å®å•†æˆ·è´¦å·
2. é…ç½®æ”¯ä»˜å®SDK
3. å®ç°æ”¯ä»˜æ¥å£
4. å®ç°æ”¯ä»˜å›è°ƒå¤„ç†
5. å®ç°è®¢å•ç®¡ç†
6. å®ç°é€€æ¬¾æ¥å£

**äº¤ä»˜ç‰©**:
- æ”¯ä»˜æœåŠ¡ç±»
- æ”¯ä»˜æ¥å£
- å›è°ƒå¤„ç†
- è®¢å•ç®¡ç†

#### ä»»åŠ¡5.6.2: å¾®ä¿¡æ”¯ä»˜é›†æˆ (2å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P2

**è¯¦ç»†æ­¥éª¤**:
1. ç”³è¯·å¾®ä¿¡å•†æˆ·è´¦å·
2. é…ç½®å¾®ä¿¡æ”¯ä»˜SDK
3. å®ç°æ”¯ä»˜æ¥å£
4. å®ç°æ”¯ä»˜å›è°ƒå¤„ç†
5. å®ç°é€€æ¬¾æ¥å£

**äº¤ä»˜ç‰©**:
- å¾®ä¿¡æ”¯ä»˜æœåŠ¡ç±»
- æ”¯ä»˜æ¥å£
- å›è°ƒå¤„ç†

### 5.7 ç¬¬ä¸ƒé˜¶æ®µ:ç®¡ç†åå° (é¢„è®¡2å‘¨)

#### ä»»åŠ¡5.7.1: ç”¨æˆ·ç®¡ç†åå° (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P1

**è¯¦ç»†æ­¥éª¤**:
1. å®ç°ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢
2. å®ç°ç”¨æˆ·è¯¦æƒ…æŸ¥è¯¢
3. å®ç°ç”¨æˆ·åˆ›å»º
4. å®ç°ç”¨æˆ·æ›´æ–°
5. å®ç°ç”¨æˆ·åˆ é™¤
6. å®ç°ç”¨æˆ·æ¿€æ´»/åœç”¨
7. å®ç°ç”¨æˆ·è§’è‰²ç®¡ç†
8. å®ç°ç”¨æˆ·æƒé™ç®¡ç†

**APIæ¥å£**:
- GET /api/admin/users - ç”¨æˆ·åˆ—è¡¨
- GET /api/admin/users/{id} - ç”¨æˆ·è¯¦æƒ…
- POST /api/admin/users - åˆ›å»ºç”¨æˆ·
- PUT /api/admin/users/{id} - æ›´æ–°ç”¨æˆ·
- DELETE /api/admin/users/{id} - åˆ é™¤ç”¨æˆ·
- PUT /api/admin/users/{id}/activate - æ¿€æ´»ç”¨æˆ·
- PUT /api/admin/users/{id}/deactivate - åœç”¨ç”¨æˆ·
- PUT /api/admin/users/{id}/roles - è®¾ç½®ç”¨æˆ·è§’è‰²

**äº¤ä»˜ç‰©**:
- ç®¡ç†åå°ç”¨æˆ·æœåŠ¡
- ç®¡ç†åå°ç”¨æˆ·æ§åˆ¶å™¨
- æ¥å£æ–‡æ¡£

#### ä»»åŠ¡5.7.2: å†…å®¹ç®¡ç†åå° (4å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P1

**è¯¦ç»†æ­¥éª¤**:
1. å®ç°å½±ç‰‡ç®¡ç†æ¥å£
2. å®ç°å†™çœŸç®¡ç†æ¥å£
3. å®ç°åˆé›†ç®¡ç†æ¥å£
4. å®ç°æ‰¹é‡ä¸Šä¼ æ¥å£
5. å®ç°å†…å®¹å®¡æ ¸æ¥å£
6. å®ç°å†…å®¹ç»Ÿè®¡æ¥å£

**APIæ¥å£**:
- GET /api/admin/movies - å½±ç‰‡åˆ—è¡¨
- POST /api/admin/movies - åˆ›å»ºå½±ç‰‡
- PUT /api/admin/movies/{id} - æ›´æ–°å½±ç‰‡
- DELETE /api/admin/movies/{id} - åˆ é™¤å½±ç‰‡
- PUT /api/admin/movies/{id}/approve - å®¡æ ¸é€šè¿‡
- PUT /api/admin/movies/{id}/reject - å®¡æ ¸æ‹’ç»
- POST /api/admin/movies/bulk-upload - æ‰¹é‡ä¸Šä¼ 
- GET /api/admin/content/pending - å¾…å®¡æ ¸å†…å®¹

**äº¤ä»˜ç‰©**:
- å†…å®¹ç®¡ç†æœåŠ¡
- å†…å®¹ç®¡ç†æ§åˆ¶å™¨
- æ¥å£æ–‡æ¡£

#### ä»»åŠ¡5.7.3: ç³»ç»Ÿç®¡ç†åå° (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P2

**è¯¦ç»†æ­¥éª¤**:
1. å®ç°ç³»ç»Ÿé…ç½®æ¥å£
2. å®ç°ç³»ç»Ÿç›‘æ§æ¥å£
3. å®ç°æ—¥å¿—æŸ¥è¯¢æ¥å£
4. å®ç°æ•°æ®ç»Ÿè®¡æ¥å£
5. å®ç°çˆ¬è™«ç®¡ç†æ¥å£

**APIæ¥å£**:
- GET /api/admin/config - ç³»ç»Ÿé…ç½®
- PUT /api/admin/config - æ›´æ–°é…ç½®
- GET /api/admin/system/stats - ç³»ç»Ÿç»Ÿè®¡
- GET /api/admin/system/status - æœåŠ¡å™¨çŠ¶æ€
- GET /api/admin/system/logs - ç³»ç»Ÿæ—¥å¿—
- GET /api/admin/analytics - æ•°æ®åˆ†æ
- GET /api/admin/crawler/tasks - çˆ¬è™«ä»»åŠ¡
- POST /api/admin/crawler/tasks - åˆ›å»ºçˆ¬è™«ä»»åŠ¡

**äº¤ä»˜ç‰©**:
- ç³»ç»Ÿç®¡ç†æœåŠ¡
- ç³»ç»Ÿç®¡ç†æ§åˆ¶å™¨
- æ¥å£æ–‡æ¡£

### 5.8 ç¬¬å…«é˜¶æ®µ:ç›‘æ§ä¸è¿ç»´ (é¢„è®¡1å‘¨)

#### ä»»åŠ¡5.8.1: ç›‘æ§ç³»ç»Ÿæ­å»º (3å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘ + è¿ç»´  
**ä¼˜å…ˆçº§**: P2

**è¯¦ç»†æ­¥éª¤**:
1. é…ç½®Spring Boot Actuator
2. é…ç½®Prometheus
3. é…ç½®Grafana
4. åˆ›å»ºç›‘æ§é¢æ¿
5. é…ç½®å‘Šè­¦è§„åˆ™
6. é…ç½®ELKæ—¥å¿—æ”¶é›†

**äº¤ä»˜ç‰©**:
- ç›‘æ§é…ç½®æ–‡ä»¶
- Grafanaé¢æ¿
- å‘Šè­¦è§„åˆ™
- ç›‘æ§æ–‡æ¡£

#### ä»»åŠ¡5.8.2: æ€§èƒ½ä¼˜åŒ– (2å¤©)
**è´Ÿè´£äºº**: åç«¯å¼€å‘  
**ä¼˜å…ˆçº§**: P2

**è¯¦ç»†æ­¥éª¤**:
1. æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
2. ç¼“å­˜ç­–ç•¥ä¼˜åŒ–
3. æ¥å£æ€§èƒ½æµ‹è¯•
4. æ…¢æŸ¥è¯¢ä¼˜åŒ–
5. è¿æ¥æ± ä¼˜åŒ–

**äº¤ä»˜ç‰©**:
- æ€§èƒ½æµ‹è¯•æŠ¥å‘Š
- ä¼˜åŒ–æ–¹æ¡ˆæ–‡æ¡£

### 5.9 ç¬¬ä¹é˜¶æ®µ:æµ‹è¯•ä¸éƒ¨ç½² (é¢„è®¡1å‘¨)

#### ä»»åŠ¡5.9.1: æµ‹è¯• (3å¤©)
**è´Ÿè´£äºº**: æµ‹è¯•å·¥ç¨‹å¸ˆ + å¼€å‘  
**ä¼˜å…ˆçº§**: P0

**è¯¦ç»†æ­¥éª¤**:
1. å•å…ƒæµ‹è¯•
2. é›†æˆæµ‹è¯•
3. æ¥å£æµ‹è¯•
4. æ€§èƒ½æµ‹è¯•
5. å®‰å…¨æµ‹è¯•
6. å‹åŠ›æµ‹è¯•

**äº¤ä»˜ç‰©**:
- æµ‹è¯•ç”¨ä¾‹
- æµ‹è¯•æŠ¥å‘Š
- Bugåˆ—è¡¨

#### ä»»åŠ¡5.9.2: éƒ¨ç½² (2å¤©)
**è´Ÿè´£äºº**: è¿ç»´ + å¼€å‘  
**ä¼˜å…ˆçº§**: P0

**è¯¦ç»†æ­¥éª¤**:
1. å‡†å¤‡ç”Ÿäº§ç¯å¢ƒ
2. é…ç½®Nginx
3. é…ç½®SSLè¯ä¹¦
4. éƒ¨ç½²åç«¯æœåŠ¡
5. éƒ¨ç½²å‰ç«¯åº”ç”¨
6. é…ç½®åŸŸåè§£æ
7. é…ç½®é˜²ç«å¢™
8. é…ç½®å¤‡ä»½ç­–ç•¥

**äº¤ä»˜ç‰©**:
- éƒ¨ç½²æ–‡æ¡£
- è¿ç»´æ‰‹å†Œ
- å¤‡ä»½æ–¹æ¡ˆ

---


## 6. APIæ¥å£æ–‡æ¡£

### 6.1 APIè®¾è®¡åŸåˆ™

1. **RESTfulé£æ ¼**: ä½¿ç”¨æ ‡å‡†HTTPæ–¹æ³•(GET, POST, PUT, DELETE)
2. **ç»Ÿä¸€å“åº”æ ¼å¼**: æ‰€æœ‰æ¥å£è¿”å›ç»Ÿä¸€çš„JSONæ ¼å¼
3. **ç‰ˆæœ¬æ§åˆ¶**: APIè·¯å¾„åŒ…å«ç‰ˆæœ¬å·(/api/v1/)
4. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯ç å’Œé”™è¯¯ä¿¡æ¯
5. **åˆ†é¡µè§„èŒƒ**: ç»Ÿä¸€çš„åˆ†é¡µå‚æ•°å’Œå“åº”æ ¼å¼
6. **è®¤è¯æ–¹å¼**: JWT Tokenè®¤è¯
7. **HTTPS**: ç”Ÿäº§ç¯å¢ƒå¼ºåˆ¶ä½¿ç”¨HTTPS

### 6.2 ç»Ÿä¸€å“åº”æ ¼å¼

#### æˆåŠŸå“åº”
```json
{
  "code": 200,
  "message": "success",
  "data": {
    // ä¸šåŠ¡æ•°æ®
  },
  "timestamp": 1698345600000
}
```

#### é”™è¯¯å“åº”
```json
{
  "code": 400,
  "message": "å‚æ•°é”™è¯¯",
  "error": "ç”¨æˆ·åä¸èƒ½ä¸ºç©º",
  "timestamp": 1698345600000
}
```

#### åˆ†é¡µå“åº”
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [],
    "pagination": {
      "page": 1,
      "pageSize": 20,
      "total": 100,
      "totalPages": 5
    }
  },
  "timestamp": 1698345600000
}
```

### 6.3 é”™è¯¯ç å®šä¹‰

| é”™è¯¯ç  | è¯´æ˜ | HTTPçŠ¶æ€ç  |
|--------|------|-----------|
| 200 | æˆåŠŸ | 200 |
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ | 400 |
| 401 | æœªè®¤è¯ | 401 |
| 403 | æ— æƒé™ | 403 |
| 404 | èµ„æºä¸å­˜åœ¨ | 404 |
| 409 | èµ„æºå†²çª | 409 |
| 429 | è¯·æ±‚è¿‡äºé¢‘ç¹ | 429 |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ | 500 |
| 1001 | ç”¨æˆ·åå·²å­˜åœ¨ | 400 |
| 1002 | é‚®ç®±å·²å­˜åœ¨ | 400 |
| 1003 | å¯†ç é”™è¯¯ | 400 |
| 1004 | ç”¨æˆ·ä¸å­˜åœ¨ | 404 |
| 1005 | Tokenå·²è¿‡æœŸ | 401 |
| 1006 | Tokenæ— æ•ˆ | 401 |
| 2001 | å½±ç‰‡ä¸å­˜åœ¨ | 404 |
| 2002 | å½±ç‰‡å·²ä¸‹æ¶ | 403 |
| 3001 | VIPæƒé™ä¸è¶³ | 403 |
| 3002 | ä¸‹è½½æ¬¡æ•°å·²ç”¨å®Œ | 403 |
| 4001 | æ”¯ä»˜å¤±è´¥ | 400 |
| 4002 | è®¢å•ä¸å­˜åœ¨ | 404 |

### 6.4 æ ¸å¿ƒAPIæ¥å£

#### 6.4.1 è®¤è¯æ¥å£

##### ç”¨æˆ·æ³¨å†Œ
```
POST /api/auth/register
Content-Type: application/json

Request:
{
  "username": "string",
  "email": "string",
  "password": "string",
  "confirmPassword": "string"
}

Response:
{
  "code": 200,
  "message": "æ³¨å†ŒæˆåŠŸ",
  "data": {
    "userId": 1,
    "username": "string",
    "email": "string",
    "token": "string",
    "refreshToken": "string"
  }
}
```

##### ç”¨æˆ·ç™»å½•
```
POST /api/auth/login
Content-Type: application/json

Request:
{
  "username": "string",  // ç”¨æˆ·å/é‚®ç®±/æ‰‹æœºå·
  "password": "string"
}

Response:
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "userId": 1,
    "username": "string",
    "email": "string",
    "role": "USER",
    "isVip": false,
    "token": "string",
    "refreshToken": "string",
    "expiresIn": 3600
  }
}
```

##### åˆ·æ–°Token
```
POST /api/auth/refresh
Content-Type: application/json

Request:
{
  "refreshToken": "string"
}

Response:
{
  "code": 200,
  "message": "success",
  "data": {
    "token": "string",
    "refreshToken": "string",
    "expiresIn": 3600
  }
}
```

#### 6.4.2 å½±ç‰‡æ¥å£

##### å½±ç‰‡åˆ—è¡¨
```
GET /api/movies?page=1&pageSize=20&category=action&sort=latest
Authorization: Bearer {token}

Response:
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [
      {
        "id": 1,
        "title": "string",
        "description": "string",
        "imageUrl": "string",
        "rating": "7.5",
        "year": 2024,
        "genres": ["åŠ¨ä½œ", "ç§‘å¹»"],
        "quality": "1080p",
        "isVip": false,
        "isNew": true,
        "viewCount": 1000,
        "downloadCount": 500
      }
    ],
    "pagination": {
      "page": 1,
      "pageSize": 20,
      "total": 100,
      "totalPages": 5
    }
  }
}
```

##### å½±ç‰‡è¯¦æƒ…
```
GET /api/movies/{id}
Authorization: Bearer {token}

Response:
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "title": "string",
    "originalTitle": "string",
    "description": "string",
    "poster": "string",
    "backdrop": "string",
    "trailer": "string",
    "genres": ["åŠ¨ä½œ", "ç§‘å¹»"],
    "duration": 120,
    "releaseDate": "2024-01-01",
    "rating": "7.5",
    "doubanRating": "7.5",
    "imdbRating": 7.8,
    "tmdbRating": 7.6,
    "director": "string",
    "cast": ["æ¼”å‘˜1", "æ¼”å‘˜2"],
    "country": "ç¾å›½",
    "language": "è‹±è¯­",
    "subtitles": ["ä¸­æ–‡", "è‹±æ–‡"],
    "quality": ["4K", "1080p", "720p"],
    "fileSize": 10737418240,
    "downloadLinks": [
      {
        "id": 1,
        "name": "4Kç‰ˆæœ¬",
        "url": "string",
        "size": "10GB",
        "format": "MKV",
        "quality": "4K",
        "isVip": true
      }
    ],
    "screenshots": [
      {
        "url": "string",
        "alt": "string"
      }
    ],
    "recommendations": [],
    "viewCount": 1000,
    "downloadCount": 500,
    "favoriteCount": 200,
    "commentCount": 50,
    "isVip": false,
    "isFavorited": false
  }
}
```

##### æœç´¢å½±ç‰‡
```
GET /api/movies/search?q=keyword&page=1&pageSize=20
Authorization: Bearer {token}

Response:
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [],
    "pagination": {},
    "suggestions": ["å…³é”®è¯1", "å…³é”®è¯2"]
  }
}
```

#### 6.4.3 ä¸‹è½½æ¥å£

##### å¼€å§‹ä¸‹è½½
```
POST /api/downloads/start
Authorization: Bearer {token}
Content-Type: application/json

Request:
{
  "movieId": 1,
  "quality": "1080p"
}

Response:
{
  "code": 200,
  "message": "success",
  "data": {
    "downloadId": 1,
    "downloadUrl": "string",  // ä¸´æ—¶ä¸‹è½½é“¾æ¥
    "expiresIn": 3600,        // é“¾æ¥æœ‰æ•ˆæœŸ(ç§’)
    "fileSize": 10737418240,
    "fileName": "string"
  }
}
```

##### ä¸‹è½½åˆ—è¡¨
```
GET /api/downloads?status=downloading&page=1&pageSize=20
Authorization: Bearer {token}

Response:
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [
      {
        "id": 1,
        "movieId": 1,
        "movieTitle": "string",
        "quality": "1080p",
        "fileSize": 10737418240,
        "downloadedSize": 5368709120,
        "progress": 50,
        "status": "downloading",  // downloading, paused, completed, failed
        "speed": 1048576,         // å­—èŠ‚/ç§’
        "remainingTime": 3600,    // ç§’
        "createdAt": "2024-01-01T00:00:00Z",
        "updatedAt": "2024-01-01T00:00:00Z"
      }
    ],
    "pagination": {}
  }
}
```

#### 6.4.4 ç”¨æˆ·æ¥å£

##### è·å–ç”¨æˆ·ä¿¡æ¯
```
GET /api/users/{id}
Authorization: Bearer {token}

Response:
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "username": "string",
    "email": "string",
    "avatar": "string",
    "role": "USER",
    "isVip": false,
    "vipExpireDate": null,
    "downloadLimit": 10,
    "downloadUsed": 5,
    "createdAt": "2024-01-01T00:00:00Z"
  }
}
```

##### ç”¨æˆ·æ”¶è—åˆ—è¡¨
```
GET /api/users/favorites?page=1&pageSize=20
Authorization: Bearer {token}

Response:
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [],
    "pagination": {}
  }
}
```

##### æ·»åŠ æ”¶è—
```
POST /api/users/favorites
Authorization: Bearer {token}
Content-Type: application/json

Request:
{
  "movieId": 1
}

Response:
{
  "code": 200,
  "message": "æ”¶è—æˆåŠŸ"
}
```

#### 6.4.5 ç®¡ç†åå°æ¥å£

##### ç”¨æˆ·ç®¡ç†åˆ—è¡¨
```
GET /api/admin/users?page=1&pageSize=20&role=USER&status=active
Authorization: Bearer {admin_token}

Response:
{
  "code": 200,
  "message": "success",
  "data": {
    "items": [
      {
        "id": 1,
        "username": "string",
        "email": "string",
        "role": "USER",
        "isVip": false,
        "status": "active",
        "createdAt": "2024-01-01T00:00:00Z",
        "lastLoginAt": "2024-01-01T00:00:00Z"
      }
    ],
    "pagination": {}
  }
}
```

##### åˆ›å»ºå½±ç‰‡
```
POST /api/admin/movies
Authorization: Bearer {admin_token}
Content-Type: application/json

Request:
{
  "title": "string",
  "originalTitle": "string",
  "description": "string",
  "poster": "string",
  "backdrop": "string",
  "trailer": "string",
  "genres": ["åŠ¨ä½œ", "ç§‘å¹»"],
  "duration": 120,
  "releaseDate": "2024-01-01",
  "director": "string",
  "cast": ["æ¼”å‘˜1", "æ¼”å‘˜2"],
  "country": "ç¾å›½",
  "language": "è‹±è¯­",
  "subtitles": ["ä¸­æ–‡", "è‹±æ–‡"],
  "quality": ["4K", "1080p"],
  "isVip": false,
  "downloadLinks": [
    {
      "name": "4Kç‰ˆæœ¬",
      "url": "string",
      "size": "10GB",
      "format": "MKV",
      "quality": "4K"
    }
  ]
}

Response:
{
  "code": 200,
  "message": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 1
  }
}
```

### 6.5 APIè®¤è¯

æ‰€æœ‰éœ€è¦è®¤è¯çš„æ¥å£éƒ½éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦JWT Token:

```
Authorization: Bearer {token}
```

Tokenæ ¼å¼:
```json
{
  "userId": 1,
  "username": "string",
  "role": "USER",
  "exp": 1698345600
}
```

### 6.6 APIé™æµ

ä¸ºé˜²æ­¢æ»¥ç”¨,APIå®æ–½ä»¥ä¸‹é™æµç­–ç•¥:

| ç”¨æˆ·ç±»å‹ | é™æµè§„åˆ™ |
|---------|---------|
| æ¸¸å®¢ | 100æ¬¡/å°æ—¶ |
| æ³¨å†Œç”¨æˆ· | 1000æ¬¡/å°æ—¶ |
| VIPç”¨æˆ· | 10000æ¬¡/å°æ—¶ |
| ç®¡ç†å‘˜ | æ— é™åˆ¶ |

è¶…è¿‡é™æµåè¿”å›429é”™è¯¯:
```json
{
  "code": 429,
  "message": "è¯·æ±‚è¿‡äºé¢‘ç¹,è¯·ç¨åå†è¯•",
  "retryAfter": 3600
}
```

---


## 7. çˆ¬è™«ç³»ç»Ÿè®¾è®¡

### 7.1 çˆ¬è™«ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    çˆ¬è™«è°ƒåº¦ä¸­å¿ƒ                          â”‚
â”‚  - ä»»åŠ¡è°ƒåº¦                                              â”‚
â”‚  - ä»»åŠ¡ç›‘æ§                                              â”‚
â”‚  - ä»»åŠ¡é‡è¯•                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  YTSçˆ¬è™«       â”‚ â”‚ VIPèµ„æºçˆ¬è™«  â”‚ â”‚  å…¶ä»–çˆ¬è™«      â”‚
â”‚  - å…è´¹èµ„æº    â”‚ â”‚ - ä»˜è´¹èµ„æº   â”‚ â”‚  - æ‰©å±•èµ„æº    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                 â”‚                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          å¤§æ¨¡å‹å¤„ç†å±‚              â”‚
        â”‚  - å†…å®¹ç†è§£                        â”‚
        â”‚  - è‡ªåŠ¨åˆ†ç±»                        â”‚
        â”‚  - æ ‡ç­¾ç”Ÿæˆ                        â”‚
        â”‚  - è´¨é‡è¯„ä¼°                        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          æ•°æ®å¤„ç†å±‚                â”‚
        â”‚  - æ•°æ®æ¸…æ´—                        â”‚
        â”‚  - æ•°æ®å»é‡                        â”‚
        â”‚  - æ•°æ®éªŒè¯                        â”‚
        â”‚  - æ•°æ®è½¬æ¢                        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          æ•°æ®å­˜å‚¨å±‚                â”‚
        â”‚  - MySQL(ç»“æ„åŒ–æ•°æ®)               â”‚
        â”‚  - Redis(ç¼“å­˜)                     â”‚
        â”‚  - Elasticsearch(æœç´¢)             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 YTSçˆ¬è™«è¯¦ç»†è®¾è®¡

#### 7.2.1 ç›®æ ‡ç½‘ç«™åˆ†æ

**ç½‘ç«™**: https://yts.mx/  
**ç‰¹ç‚¹**:
- æä¾›é«˜è´¨é‡çš„ç”µå½±èµ„æº
- å¤šç§åˆ†è¾¨ç‡(720p, 1080p, 2160p)
- åŒ…å«IMDbè¯„åˆ†å’Œè¯¦ç»†ä¿¡æ¯
- æä¾›ç§å­æ–‡ä»¶å’Œç£åŠ›é“¾æ¥

#### 7.2.2 çˆ¬å–ç­–ç•¥

**çˆ¬å–é¢‘ç‡**:
- æ–°ç‰‡åˆ—è¡¨: æ¯å°æ—¶çˆ¬å–ä¸€æ¬¡
- çƒ­é—¨åˆ—è¡¨: æ¯6å°æ—¶çˆ¬å–ä¸€æ¬¡
- è¯¦æƒ…é¡µ: å‘ç°æ–°ç‰‡æ—¶ç«‹å³çˆ¬å–
- å¢é‡æ›´æ–°: æ¯å¤©å‡Œæ™¨å…¨é‡æ£€æŸ¥

**çˆ¬å–å†…å®¹**:
1. å½±ç‰‡åˆ—è¡¨é¡µ
   - å½±ç‰‡ID
   - å½±ç‰‡æ ‡é¢˜
   - æµ·æŠ¥URL
   - ä¸Šæ˜ å¹´ä»½
   - IMDbè¯„åˆ†
   - ç±»å‹æ ‡ç­¾

2. å½±ç‰‡è¯¦æƒ…é¡µ
   - å®Œæ•´æ ‡é¢˜
   - åŸå§‹æ ‡é¢˜
   - è¯¦ç»†æè¿°
   - å¯¼æ¼”
   - æ¼”å‘˜åˆ—è¡¨
   - ç±»å‹
   - æ—¶é•¿
   - è¯­è¨€
   - å­—å¹•
   - ä¸‹è½½é“¾æ¥(å¤šç§è´¨é‡)
   - æˆªå›¾
   - ç›¸å…³æ¨è

#### 7.2.3 æŠ€æœ¯å®ç°

```java
@Service
public class YTSCrawlerService {
    
    @Autowired
    private WebDriver webDriver;
    
    @Autowired
    private MovieRepository movieRepository;
    
    @Autowired
    private AIService aiService;
    
    /**
     * çˆ¬å–å½±ç‰‡åˆ—è¡¨
     */
    public List<MovieDTO> crawlMovieList(int page) {
        String url = "https://yts.mx/browse-movies?page=" + page;
        
        // 1. è®¿é—®åˆ—è¡¨é¡µ
        webDriver.get(url);
        
        // 2. è§£æå½±ç‰‡åˆ—è¡¨
        List<WebElement> movieElements = webDriver.findElements(
            By.cssSelector(".browse-movie-wrap")
        );
        
        List<MovieDTO> movies = new ArrayList<>();
        for (WebElement element : movieElements) {
            MovieDTO movie = parseMovieElement(element);
            movies.add(movie);
        }
        
        return movies;
    }
    
    /**
     * çˆ¬å–å½±ç‰‡è¯¦æƒ…
     */
    public MovieDetail crawlMovieDetail(String movieId) {
        String url = "https://yts.mx/movies/" + movieId;
        
        // 1. è®¿é—®è¯¦æƒ…é¡µ
        webDriver.get(url);
        
        // 2. è§£æå½±ç‰‡è¯¦æƒ…
        MovieDetail detail = new MovieDetail();
        detail.setTitle(getElementText(".movie-title"));
        detail.setDescription(getElementText("#synopsis"));
        detail.setDirector(getElementText(".director"));
        // ... æ›´å¤šå­—æ®µè§£æ
        
        // 3. è§£æä¸‹è½½é“¾æ¥
        List<DownloadLink> links = parseDownloadLinks();
        detail.setDownloadLinks(links);
        
        // 4. ä½¿ç”¨AIå¢å¼ºæ•°æ®
        enhanceWithAI(detail);
        
        return detail;
    }
    
    /**
     * ä½¿ç”¨AIå¢å¼ºæ•°æ®
     */
    private void enhanceWithAI(MovieDetail detail) {
        // 1. ç”Ÿæˆä¸­æ–‡æè¿°
        String chineseDesc = aiService.translate(detail.getDescription());
        detail.setChineseDescription(chineseDesc);
        
        // 2. è‡ªåŠ¨ç”Ÿæˆæ ‡ç­¾
        List<String> tags = aiService.generateTags(detail);
        detail.setTags(tags);
        
        // 3. å†…å®¹è´¨é‡è¯„ä¼°
        double qualityScore = aiService.assessQuality(detail);
        detail.setQualityScore(qualityScore);
        
        // 4. æ•æ„Ÿå†…å®¹æ£€æµ‹
        boolean isSafe = aiService.checkContent(detail);
        detail.setIsSafe(isSafe);
    }
}
```

#### 7.2.4 åçˆ¬è™«ç­–ç•¥

1. **User-Agentè½®æ¢**
```java
private static final List<String> USER_AGENTS = Arrays.asList(
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36",
    "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36"
);

private String getRandomUserAgent() {
    return USER_AGENTS.get(new Random().nextInt(USER_AGENTS.size()));
}
```

2. **è¯·æ±‚é¢‘ç‡æ§åˆ¶**
```java
@Component
public class RateLimiter {
    private static final long MIN_INTERVAL = 2000; // 2ç§’
    private long lastRequestTime = 0;
    
    public synchronized void waitIfNeeded() {
        long now = System.currentTimeMillis();
        long elapsed = now - lastRequestTime;
        
        if (elapsed < MIN_INTERVAL) {
            try {
                Thread.sleep(MIN_INTERVAL - elapsed);
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }
        
        lastRequestTime = System.currentTimeMillis();
    }
}
```

3. **IPä»£ç†æ± **
```java
@Service
public class ProxyService {
    private List<Proxy> proxyList = new ArrayList<>();
    private int currentIndex = 0;
    
    public Proxy getNextProxy() {
        if (proxyList.isEmpty()) {
            loadProxies();
        }
        
        Proxy proxy = proxyList.get(currentIndex);
        currentIndex = (currentIndex + 1) % proxyList.size();
        
        return proxy;
    }
    
    private void loadProxies() {
        // ä»ä»£ç†æœåŠ¡å•†è·å–ä»£ç†åˆ—è¡¨
        // æˆ–ä½¿ç”¨å…è´¹ä»£ç†æ± 
    }
}
```

4. **Cookieç®¡ç†**
```java
@Service
public class CookieManager {
    private Map<String, String> cookies = new HashMap<>();
    
    public void saveCookies(Set<Cookie> cookieSet) {
        for (Cookie cookie : cookieSet) {
            cookies.put(cookie.getName(), cookie.getValue());
        }
    }
    
    public void loadCookies(WebDriver driver) {
        for (Map.Entry<String, String> entry : cookies.entrySet()) {
            Cookie cookie = new Cookie(entry.getKey(), entry.getValue());
            driver.manage().addCookie(cookie);
        }
    }
}
```

### 7.3 VIPèµ„æºçˆ¬è™«è®¾è®¡

#### 7.3.1 ç›®æ ‡ç½‘ç«™é€‰æ‹©

**å€™é€‰ç½‘ç«™**:
1. é«˜æ¸…å½±è§†ç½‘ç«™
2. è“å…‰åŸç›˜èµ„æºç«™
3. PTç«™ç‚¹(éœ€è¦è´¦å·)
4. å­—å¹•ç»„ç½‘ç«™

**é€‰æ‹©æ ‡å‡†**:
- èµ„æºè´¨é‡é«˜
- æ›´æ–°åŠæ—¶
- ç¨³å®šæ€§å¥½
- åçˆ¬è™«éš¾åº¦é€‚ä¸­

#### 7.3.2 çˆ¬å–ç­–ç•¥

**ç™»å½•å¤„ç†**:
```java
@Service
public class VIPCrawlerService {
    
    /**
     * æ¨¡æ‹Ÿç™»å½•
     */
    public boolean login(String username, String password) {
        webDriver.get("https://example.com/login");
        
        // å¡«å†™è¡¨å•
        webDriver.findElement(By.id("username")).sendKeys(username);
        webDriver.findElement(By.id("password")).sendKeys(password);
        
        // å¤„ç†éªŒè¯ç (å¦‚æœæœ‰)
        if (hasCaptcha()) {
            String captcha = solveCaptcha();
            webDriver.findElement(By.id("captcha")).sendKeys(captcha);
        }
        
        // æäº¤ç™»å½•
        webDriver.findElement(By.id("submit")).click();
        
        // éªŒè¯ç™»å½•æˆåŠŸ
        return isLoginSuccessful();
    }
    
    /**
     * éªŒè¯ç è¯†åˆ«
     */
    private String solveCaptcha() {
        // 1. æˆªå–éªŒè¯ç å›¾ç‰‡
        WebElement captchaImg = webDriver.findElement(By.id("captcha-img"));
        File screenshot = captchaImg.getScreenshotAs(OutputType.FILE);
        
        // 2. ä½¿ç”¨OCRè¯†åˆ«
        String captcha = ocrService.recognize(screenshot);
        
        // 3. æˆ–ä½¿ç”¨æ‰“ç å¹³å°
        // String captcha = captchaService.solve(screenshot);
        
        return captcha;
    }
}
```

**æ•°æ®åŠ å¯†å¤„ç†**:
```java
/**
 * å¤„ç†åŠ å¯†çš„ä¸‹è½½é“¾æ¥
 */
private String decryptDownloadLink(String encryptedLink) {
    // 1. åˆ†æåŠ å¯†ç®—æ³•
    // 2. å®ç°è§£å¯†é€»è¾‘
    // 3. è¿”å›çœŸå®ä¸‹è½½é“¾æ¥
    
    return decryptedLink;
}
```

### 7.4 å¤§æ¨¡å‹é›†æˆ

#### 7.4.1 OpenAI GPT-4é›†æˆ

```java
@Service
public class OpenAIService {
    
    @Value("${openai.api.key}")
    private String apiKey;
    
    @Value("${openai.api.url}")
    private String apiUrl;
    
    /**
     * ç”Ÿæˆå½±ç‰‡æè¿°
     */
    public String generateDescription(MovieDetail movie) {
        String prompt = String.format(
            "è¯·ä¸ºä»¥ä¸‹ç”µå½±ç”Ÿæˆä¸€æ®µå¸å¼•äººçš„ä¸­æ–‡æè¿°(200å­—ä»¥å†…):\n" +
            "æ ‡é¢˜: %s\n" +
            "ç±»å‹: %s\n" +
            "å¯¼æ¼”: %s\n" +
            "æ¼”å‘˜: %s\n" +
            "åŸå§‹æè¿°: %s",
            movie.getTitle(),
            String.join(", ", movie.getGenres()),
            movie.getDirector(),
            String.join(", ", movie.getCast()),
            movie.getDescription()
        );
        
        return callGPT4(prompt);
    }
    
    /**
     * è‡ªåŠ¨ç”Ÿæˆæ ‡ç­¾
     */
    public List<String> generateTags(MovieDetail movie) {
        String prompt = String.format(
            "è¯·ä¸ºä»¥ä¸‹ç”µå½±ç”Ÿæˆ5-10ä¸ªç›¸å…³æ ‡ç­¾(ä¸­æ–‡):\n" +
            "æ ‡é¢˜: %s\n" +
            "ç±»å‹: %s\n" +
            "æè¿°: %s\n" +
            "è¦æ±‚: æ ‡ç­¾è¦å‡†ç¡®ã€ç®€æ´,ç”¨é€—å·åˆ†éš”",
            movie.getTitle(),
            String.join(", ", movie.getGenres()),
            movie.getDescription()
        );
        
        String response = callGPT4(prompt);
        return Arrays.asList(response.split(","));
    }
    
    /**
     * å†…å®¹è´¨é‡è¯„ä¼°
     */
    public double assessQuality(MovieDetail movie) {
        String prompt = String.format(
            "è¯·è¯„ä¼°ä»¥ä¸‹ç”µå½±çš„å†…å®¹è´¨é‡(0-10åˆ†):\n" +
            "æ ‡é¢˜: %s\n" +
            "IMDbè¯„åˆ†: %.1f\n" +
            "ç±»å‹: %s\n" +
            "å¯¼æ¼”: %s\n" +
            "æè¿°: %s\n" +
            "è¦æ±‚: åªè¿”å›æ•°å­—åˆ†æ•°",
            movie.getTitle(),
            movie.getImdbRating(),
            String.join(", ", movie.getGenres()),
            movie.getDirector(),
            movie.getDescription()
        );
        
        String response = callGPT4(prompt);
        return Double.parseDouble(response.trim());
    }
    
    /**
     * æ•æ„Ÿå†…å®¹æ£€æµ‹
     */
    public boolean checkContent(MovieDetail movie) {
        String prompt = String.format(
            "è¯·æ£€æµ‹ä»¥ä¸‹ç”µå½±å†…å®¹æ˜¯å¦åŒ…å«æ•æ„Ÿä¿¡æ¯(æš´åŠ›ã€è‰²æƒ…ã€æ”¿æ²»ç­‰):\n" +
            "æ ‡é¢˜: %s\n" +
            "æè¿°: %s\n" +
            "è¦æ±‚: åªè¿”å› 'safe' æˆ– 'unsafe'",
            movie.getTitle(),
            movie.getDescription()
        );
        
        String response = callGPT4(prompt);
        return "safe".equalsIgnoreCase(response.trim());
    }
    
    /**
     * è°ƒç”¨GPT-4 API
     */
    private String callGPT4(String prompt) {
        // æ„å»ºè¯·æ±‚
        Map<String, Object> request = new HashMap<>();
        request.put("model", "gpt-4");
        request.put("messages", Arrays.asList(
            Map.of("role", "user", "content", prompt)
        ));
        request.put("temperature", 0.7);
        request.put("max_tokens", 500);
        
        // å‘é€è¯·æ±‚
        HttpHeaders headers = new HttpHeaders();
        headers.set("Authorization", "Bearer " + apiKey);
        headers.setContentType(MediaType.APPLICATION_JSON);
        
        HttpEntity<Map<String, Object>> entity = new HttpEntity<>(request, headers);
        
        RestTemplate restTemplate = new RestTemplate();
        ResponseEntity<Map> response = restTemplate.postForEntity(
            apiUrl,
            entity,
            Map.class
        );
        
        // è§£æå“åº”
        Map<String, Object> body = response.getBody();
        List<Map<String, Object>> choices = (List<Map<String, Object>>) body.get("choices");
        Map<String, Object> message = (Map<String, Object>) choices.get(0).get("message");
        
        return (String) message.get("content");
    }
}
```

#### 7.4.2 æœ¬åœ°å¤§æ¨¡å‹éƒ¨ç½²(Llama 3)

```java
@Service
public class LocalLLMService {
    
    @Value("${llm.local.url}")
    private String localLLMUrl;
    
    /**
     * è°ƒç”¨æœ¬åœ°å¤§æ¨¡å‹
     */
    public String callLocalLLM(String prompt) {
        // ä½¿ç”¨Ollamaæˆ–vLLMéƒ¨ç½²çš„æœ¬åœ°æ¨¡å‹
        Map<String, Object> request = new HashMap<>();
        request.put("model", "llama3");
        request.put("prompt", prompt);
        request.put("stream", false);
        
        RestTemplate restTemplate = new RestTemplate();
        ResponseEntity<Map> response = restTemplate.postForEntity(
            localLLMUrl + "/api/generate",
            request,
            Map.class
        );
        
        Map<String, Object> body = response.getBody();
        return (String) body.get("response");
    }
}
```

### 7.5 çˆ¬è™«è°ƒåº¦ç³»ç»Ÿ

#### 7.5.1 å®šæ—¶ä»»åŠ¡é…ç½®

```java
@Configuration
@EnableScheduling
public class CrawlerScheduleConfig {
    
    @Autowired
    private YTSCrawlerService ytsCrawlerService;
    
    @Autowired
    private VIPCrawlerService vipCrawlerService;
    
    /**
     * YTSæ–°ç‰‡çˆ¬å– - æ¯å°æ—¶æ‰§è¡Œ
     */
    @Scheduled(cron = "0 0 * * * ?")
    public void crawlYTSNewMovies() {
        log.info("å¼€å§‹çˆ¬å–YTSæ–°ç‰‡...");
        ytsCrawlerService.crawlNewMovies();
    }
    
    /**
     * YTSçƒ­é—¨çˆ¬å– - æ¯6å°æ—¶æ‰§è¡Œ
     */
    @Scheduled(cron = "0 0 */6 * * ?")
    public void crawlYTSHotMovies() {
        log.info("å¼€å§‹çˆ¬å–YTSçƒ­é—¨å½±ç‰‡...");
        ytsCrawlerService.crawlHotMovies();
    }
    
    /**
     * VIPèµ„æºçˆ¬å– - æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œ
     */
    @Scheduled(cron = "0 0 2 * * ?")
    public void crawlVIPResources() {
        log.info("å¼€å§‹çˆ¬å–VIPèµ„æº...");
        vipCrawlerService.crawlResources();
    }
    
    /**
     * æ•°æ®æ¸…ç† - æ¯å¤©å‡Œæ™¨4ç‚¹æ‰§è¡Œ
     */
    @Scheduled(cron = "0 0 4 * * ?")
    public void cleanupData() {
        log.info("å¼€å§‹æ¸…ç†è¿‡æœŸæ•°æ®...");
        // æ¸…ç†è¿‡æœŸçš„ä¸‹è½½é“¾æ¥
        // æ¸…ç†æ— æ•ˆçš„å½±ç‰‡æ•°æ®
        // æ¸…ç†é‡å¤æ•°æ®
    }
}
```

#### 7.5.2 ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†

```java
@Service
public class CrawlerTaskQueue {
    
    @Autowired
    private RedisTemplate<String, CrawlerTask> redisTemplate;
    
    private static final String QUEUE_KEY = "crawler:task:queue";
    private static final String PROCESSING_KEY = "crawler:task:processing";
    
    /**
     * æ·»åŠ ä»»åŠ¡åˆ°é˜Ÿåˆ—
     */
    public void addTask(CrawlerTask task) {
        redisTemplate.opsForList().rightPush(QUEUE_KEY, task);
    }
    
    /**
     * è·å–ä¸‹ä¸€ä¸ªä»»åŠ¡
     */
    public CrawlerTask getNextTask() {
        CrawlerTask task = redisTemplate.opsForList().leftPop(QUEUE_KEY);
        if (task != null) {
            // ç§»åˆ°å¤„ç†ä¸­é˜Ÿåˆ—
            redisTemplate.opsForHash().put(
                PROCESSING_KEY,
                task.getId(),
                task
            );
        }
        return task;
    }
    
    /**
     * æ ‡è®°ä»»åŠ¡å®Œæˆ
     */
    public void completeTask(String taskId) {
        redisTemplate.opsForHash().delete(PROCESSING_KEY, taskId);
    }
    
    /**
     * ä»»åŠ¡å¤±è´¥é‡è¯•
     */
    public void retryTask(CrawlerTask task) {
        task.incrementRetryCount();
        if (task.getRetryCount() < 3) {
            // é‡æ–°åŠ å…¥é˜Ÿåˆ—
            addTask(task);
        } else {
            // æ ‡è®°ä¸ºå¤±è´¥
            task.setStatus(TaskStatus.FAILED);
            saveFailedTask(task);
        }
    }
}
```

### 7.6 æ•°æ®å»é‡ç­–ç•¥

```java
@Service
public class DataDeduplicationService {
    
    @Autowired
    private MovieRepository movieRepository;
    
    @Autowired
    private RedisTemplate<String, String> redisTemplate;
    
    /**
     * æ£€æŸ¥å½±ç‰‡æ˜¯å¦å·²å­˜åœ¨
     */
    public boolean isDuplicate(MovieDTO movie) {
        // 1. å…ˆæŸ¥Redisç¼“å­˜
        String cacheKey = "movie:hash:" + generateHash(movie);
        if (redisTemplate.hasKey(cacheKey)) {
            return true;
        }
        
        // 2. æŸ¥æ•°æ®åº“
        boolean exists = movieRepository.existsByTitleAndYear(
            movie.getTitle(),
            movie.getYear()
        );
        
        if (exists) {
            // ç¼“å­˜ç»“æœ
            redisTemplate.opsForValue().set(
                cacheKey,
                "1",
                Duration.ofDays(7)
            );
        }
        
        return exists;
    }
    
    /**
     * ç”Ÿæˆå½±ç‰‡å“ˆå¸Œå€¼
     */
    private String generateHash(MovieDTO movie) {
        String data = movie.getTitle() + movie.getYear();
        return DigestUtils.md5DigestAsHex(data.getBytes());
    }
    
    /**
     * åˆå¹¶é‡å¤æ•°æ®
     */
    public void mergeDuplicates() {
        // 1. æŸ¥æ‰¾é‡å¤å½±ç‰‡
        List<Movie> duplicates = movieRepository.findDuplicates();
        
        // 2. åˆå¹¶æ•°æ®
        for (Movie movie : duplicates) {
            List<Movie> similarMovies = movieRepository.findSimilar(
                movie.getTitle(),
                movie.getYear()
            );
            
            if (similarMovies.size() > 1) {
                Movie merged = mergeMovies(similarMovies);
                movieRepository.save(merged);
                
                // åˆ é™¤é‡å¤é¡¹
                for (Movie similar : similarMovies) {
                    if (!similar.getId().equals(merged.getId())) {
                        movieRepository.delete(similar);
                    }
                }
            }
        }
    }
}
```

---


## 8. å¼€å‘å‘¨æœŸä¼°ç®—

### 8.1 æ€»ä½“æ—¶é—´è§„åˆ’

| é˜¶æ®µ | ä»»åŠ¡ | é¢„è®¡å·¥æœŸ | äººåŠ›é…ç½® |
|------|------|---------|---------|
| ç¬¬ä¸€é˜¶æ®µ | åç«¯åŸºç¡€æ¶æ„æ­å»º | 2å‘¨ | 2ååç«¯å¼€å‘ |
| ç¬¬äºŒé˜¶æ®µ | æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘ | 4å‘¨ | 2ååç«¯å¼€å‘ |
| ç¬¬ä¸‰é˜¶æ®µ | æœç´¢ä¸æ¨èç³»ç»Ÿ | 2å‘¨ | 1ååç«¯å¼€å‘ + 1åç®—æ³•å·¥ç¨‹å¸ˆ |
| ç¬¬å››é˜¶æ®µ | çˆ¬è™«ç³»ç»Ÿå¼€å‘ | 3å‘¨ | 2ååç«¯å¼€å‘ |
| ç¬¬äº”é˜¶æ®µ | æ–‡ä»¶å­˜å‚¨ä¸CDN | 1å‘¨ | 1ååç«¯å¼€å‘ + 1åè¿ç»´ |
| ç¬¬å…­é˜¶æ®µ | æ”¯ä»˜ç³»ç»Ÿ | 1å‘¨ | 1ååç«¯å¼€å‘ |
| ç¬¬ä¸ƒé˜¶æ®µ | ç®¡ç†åå° | 2å‘¨ | 1ååç«¯å¼€å‘ + 1åå‰ç«¯å¼€å‘ |
| ç¬¬å…«é˜¶æ®µ | ç›‘æ§ä¸è¿ç»´ | 1å‘¨ | 1ååç«¯å¼€å‘ + 1åè¿ç»´ |
| ç¬¬ä¹é˜¶æ®µ | æµ‹è¯•ä¸éƒ¨ç½² | 1å‘¨ | å…¨å‘˜ |
| **æ€»è®¡** | **å…¨éƒ¨åŠŸèƒ½** | **17å‘¨(çº¦4ä¸ªæœˆ)** | **2-3ååç«¯ + 1åå‰ç«¯ + 1åè¿ç»´** |

### 8.2 è¯¦ç»†æ—¶é—´åˆ†è§£

#### 8.2.1 ç¬¬ä¸€é˜¶æ®µ:åç«¯åŸºç¡€æ¶æ„(2å‘¨)

| ä»»åŠ¡ | å·¥ä½œæ—¥ | è´Ÿè´£äºº |
|------|--------|--------|
| é¡¹ç›®åˆå§‹åŒ– | 2å¤© | åç«¯å¼€å‘A |
| æ•°æ®åº“è®¾è®¡ä¸åˆå§‹åŒ– | 3å¤© | åç«¯å¼€å‘A + DBA |
| Redisé…ç½®ä¸ç¼“å­˜ç­–ç•¥ | 2å¤© | åç«¯å¼€å‘B |
| å®‰å…¨æ¡†æ¶é…ç½® | 3å¤© | åç«¯å¼€å‘A |
| åŸºç¡€å®ä½“ç±»ä¸Repository | 2å¤© | åç«¯å¼€å‘B |
| **å°è®¡** | **10å·¥ä½œæ—¥** | **2äºº** |

#### 8.2.2 ç¬¬äºŒé˜¶æ®µ:æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½(4å‘¨)

| ä»»åŠ¡ | å·¥ä½œæ—¥ | è´Ÿè´£äºº |
|------|--------|--------|
| ç”¨æˆ·è®¤è¯ä¸æˆæƒ | 5å¤© | åç«¯å¼€å‘A |
| ç”¨æˆ·ç®¡ç† | 3å¤© | åç«¯å¼€å‘B |
| å½±ç‰‡ç®¡ç† | 5å¤© | åç«¯å¼€å‘A |
| å†™çœŸç®¡ç† | 3å¤© | åç«¯å¼€å‘B |
| åˆé›†ç®¡ç† | 3å¤© | åç«¯å¼€å‘A |
| ä¸‹è½½ç®¡ç† | 4å¤© | åç«¯å¼€å‘B |
| è¯„è®ºç³»ç»Ÿ | 3å¤© | åç«¯å¼€å‘A |
| **å°è®¡** | **20å·¥ä½œæ—¥** | **2äºº** |

#### 8.2.3 ç¬¬ä¸‰é˜¶æ®µ:æœç´¢ä¸æ¨è(2å‘¨)

| ä»»åŠ¡ | å·¥ä½œæ—¥ | è´Ÿè´£äºº |
|------|--------|--------|
| Elasticsearché›†æˆ | 3å¤© | åç«¯å¼€å‘A |
| æ¨èç®—æ³•å®ç° | 4å¤© | ç®—æ³•å·¥ç¨‹å¸ˆ |
| æœç´¢ä¼˜åŒ– | 2å¤© | åç«¯å¼€å‘A |
| æ¨èæ•ˆæœè°ƒä¼˜ | 3å¤© | ç®—æ³•å·¥ç¨‹å¸ˆ |
| **å°è®¡** | **10å·¥ä½œæ—¥** | **1åç«¯ + 1ç®—æ³•** |

#### 8.2.4 ç¬¬å››é˜¶æ®µ:çˆ¬è™«ç³»ç»Ÿ(3å‘¨)

| ä»»åŠ¡ | å·¥ä½œæ—¥ | è´Ÿè´£äºº |
|------|--------|--------|
| çˆ¬è™«æ¡†æ¶æ­å»º | 3å¤© | åç«¯å¼€å‘A |
| YTSçˆ¬è™«å®ç° | 4å¤© | åç«¯å¼€å‘B |
| VIPèµ„æºçˆ¬è™«å®ç° | 5å¤© | åç«¯å¼€å‘A |
| å¤§æ¨¡å‹é›†æˆ | 5å¤© | åç«¯å¼€å‘B + AIå·¥ç¨‹å¸ˆ |
| è°ƒåº¦ç³»ç»Ÿä¸ç›‘æ§ | 3å¤© | åç«¯å¼€å‘A |
| **å°è®¡** | **15å·¥ä½œæ—¥** | **2äºº** |

#### 8.2.5 ç¬¬äº”é˜¶æ®µ:æ–‡ä»¶å­˜å‚¨ä¸CDN(1å‘¨)

| ä»»åŠ¡ | å·¥ä½œæ—¥ | è´Ÿè´£äºº |
|------|--------|--------|
| MinIO/OSSé›†æˆ | 3å¤© | åç«¯å¼€å‘A |
| CDNé›†æˆ | 2å¤© | åç«¯å¼€å‘A + è¿ç»´ |
| **å°è®¡** | **5å·¥ä½œæ—¥** | **1åç«¯ + 1è¿ç»´** |

#### 8.2.6 ç¬¬å…­é˜¶æ®µ:æ”¯ä»˜ç³»ç»Ÿ(1å‘¨)

| ä»»åŠ¡ | å·¥ä½œæ—¥ | è´Ÿè´£äºº |
|------|--------|--------|
| æ”¯ä»˜å®é›†æˆ | 3å¤© | åç«¯å¼€å‘A |
| å¾®ä¿¡æ”¯ä»˜é›†æˆ | 2å¤© | åç«¯å¼€å‘A |
| **å°è®¡** | **5å·¥ä½œæ—¥** | **1äºº** |

#### 8.2.7 ç¬¬ä¸ƒé˜¶æ®µ:ç®¡ç†åå°(2å‘¨)

| ä»»åŠ¡ | å·¥ä½œæ—¥ | è´Ÿè´£äºº |
|------|--------|--------|
| ç”¨æˆ·ç®¡ç†åå° | 3å¤© | åç«¯å¼€å‘A |
| å†…å®¹ç®¡ç†åå° | 4å¤© | åç«¯å¼€å‘A |
| ç³»ç»Ÿç®¡ç†åå° | 3å¤© | åç«¯å¼€å‘A |
| å‰ç«¯é¡µé¢å®Œå–„ | 5å¤© | å‰ç«¯å¼€å‘ |
| **å°è®¡** | **10å·¥ä½œæ—¥** | **1åç«¯ + 1å‰ç«¯** |

#### 8.2.8 ç¬¬å…«é˜¶æ®µ:ç›‘æ§ä¸è¿ç»´(1å‘¨)

| ä»»åŠ¡ | å·¥ä½œæ—¥ | è´Ÿè´£äºº |
|------|--------|--------|
| ç›‘æ§ç³»ç»Ÿæ­å»º | 3å¤© | åç«¯å¼€å‘ + è¿ç»´ |
| æ€§èƒ½ä¼˜åŒ– | 2å¤© | åç«¯å¼€å‘ |
| **å°è®¡** | **5å·¥ä½œæ—¥** | **1åç«¯ + 1è¿ç»´** |

#### 8.2.9 ç¬¬ä¹é˜¶æ®µ:æµ‹è¯•ä¸éƒ¨ç½²(1å‘¨)

| ä»»åŠ¡ | å·¥ä½œæ—¥ | è´Ÿè´£äºº |
|------|--------|--------|
| æµ‹è¯• | 3å¤© | æµ‹è¯•å·¥ç¨‹å¸ˆ + å…¨å‘˜ |
| éƒ¨ç½² | 2å¤© | è¿ç»´ + åç«¯å¼€å‘ |
| **å°è®¡** | **5å·¥ä½œæ—¥** | **å…¨å‘˜** |

### 8.3 å‰ç«¯å¼€å‘æ—¶é—´è§„åˆ’

å‰ç«¯å¤§éƒ¨åˆ†å·¥ä½œå·²å®Œæˆ,å‰©ä½™å·¥ä½œä¼°ç®—:

| ä»»åŠ¡ | å·¥ä½œæ—¥ | è´Ÿè´£äºº |
|------|--------|--------|
| æœç´¢é¡µé¢å®Œå–„ | 2å¤© | å‰ç«¯å¼€å‘ |
| åˆ†ç±»é¡µé¢å®Œå–„ | 2å¤© | å‰ç«¯å¼€å‘ |
| ä¸‹è½½ç®¡ç†å™¨ | 3å¤© | å‰ç«¯å¼€å‘ |
| æ’­æ”¾å™¨é›†æˆ | 2å¤© | å‰ç«¯å¼€å‘ |
| æ”¯ä»˜é¡µé¢ | 2å¤© | å‰ç«¯å¼€å‘ |
| æ€§èƒ½ä¼˜åŒ– | 2å¤© | å‰ç«¯å¼€å‘ |
| æµ‹è¯•å®Œå–„ | 3å¤© | å‰ç«¯å¼€å‘ |
| **å°è®¡** | **16å·¥ä½œæ—¥(çº¦3å‘¨)** | **1äºº** |

### 8.4 å…³é”®é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | æ—¶é—´èŠ‚ç‚¹ | äº¤ä»˜å†…å®¹ |
|--------|---------|---------|
| M1: åŸºç¡€æ¶æ„å®Œæˆ | ç¬¬2å‘¨æœ« | åç«¯é¡¹ç›®å¯è¿è¡Œ,æ•°æ®åº“å°±ç»ª |
| M2: æ ¸å¿ƒåŠŸèƒ½å®Œæˆ | ç¬¬6å‘¨æœ« | ç”¨æˆ·ã€å½±ç‰‡ã€ä¸‹è½½ç­‰æ ¸å¿ƒåŠŸèƒ½å¯ç”¨ |
| M3: æœç´¢æ¨èå®Œæˆ | ç¬¬8å‘¨æœ« | æœç´¢å’Œæ¨èç³»ç»Ÿä¸Šçº¿ |
| M4: çˆ¬è™«ç³»ç»Ÿå®Œæˆ | ç¬¬11å‘¨æœ« | è‡ªåŠ¨çˆ¬å–èµ„æºåŠŸèƒ½å¯ç”¨ |
| M5: æ”¯ä»˜ç³»ç»Ÿå®Œæˆ | ç¬¬13å‘¨æœ« | VIPè´­ä¹°åŠŸèƒ½ä¸Šçº¿ |
| M6: ç®¡ç†åå°å®Œæˆ | ç¬¬15å‘¨æœ« | å®Œæ•´çš„ç®¡ç†åå°å¯ç”¨ |
| M7: ç³»ç»Ÿä¸Šçº¿ | ç¬¬17å‘¨æœ« | æ­£å¼ä¸Šçº¿è¿è¥ |

### 8.5 é£é™©è¯„ä¼°ä¸åº”å¯¹

| é£é™© | æ¦‚ç‡ | å½±å“ | åº”å¯¹æªæ–½ |
|------|------|------|---------|
| çˆ¬è™«è¢«å°ç¦ | é«˜ | é«˜ | å‡†å¤‡å¤šä¸ªå¤‡ç”¨æ•°æ®æº,ä½¿ç”¨ä»£ç†æ±  |
| å¤§æ¨¡å‹APIé™æµ | ä¸­ | ä¸­ | éƒ¨ç½²æœ¬åœ°æ¨¡å‹ä½œä¸ºå¤‡ä»½ |
| æ•°æ®åº“æ€§èƒ½ç“¶é¢ˆ | ä¸­ | é«˜ | æå‰åšå¥½åˆ†åº“åˆ†è¡¨è§„åˆ’ |
| å­˜å‚¨ç©ºé—´ä¸è¶³ | ä¸­ | é«˜ | ä½¿ç”¨å¯¹è±¡å­˜å‚¨,é…ç½®è‡ªåŠ¨æ‰©å®¹ |
| æ”¯ä»˜æ¥å£å¯¹æ¥å»¶è¿Ÿ | ä½ | ä¸­ | æå‰ç”³è¯·å•†æˆ·è´¦å· |
| äººå‘˜å˜åŠ¨ | ä½ | é«˜ | åšå¥½æ–‡æ¡£å’Œä»£ç æ³¨é‡Š |

### 8.6 èµ„æºéœ€æ±‚

#### 8.6.1 äººåŠ›èµ„æº

| è§’è‰² | äººæ•° | å·¥ä½œå‘¨æœŸ | å¤‡æ³¨ |
|------|------|---------|------|
| åç«¯å¼€å‘å·¥ç¨‹å¸ˆ | 2äºº | 17å‘¨ | å…¨ç¨‹å‚ä¸ |
| å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ | 1äºº | 3å‘¨ | å®Œå–„å‰ç«¯åŠŸèƒ½ |
| ç®—æ³•å·¥ç¨‹å¸ˆ | 1äºº | 2å‘¨ | æ¨èç³»ç»Ÿå¼€å‘ |
| æµ‹è¯•å·¥ç¨‹å¸ˆ | 1äºº | 2å‘¨ | æµ‹è¯•é˜¶æ®µ |
| è¿ç»´å·¥ç¨‹å¸ˆ | 1äºº | 3å‘¨ | éƒ¨ç½²å’Œç›‘æ§ |
| äº§å“ç»ç† | 1äºº | å…¨ç¨‹ | éœ€æ±‚ç®¡ç† |
| UIè®¾è®¡å¸ˆ | 1äºº | æŒ‰éœ€ | ç•Œé¢ä¼˜åŒ– |

#### 8.6.2 ç¡¬ä»¶èµ„æº

**å¼€å‘ç¯å¢ƒ**:
- å¼€å‘æœåŠ¡å™¨: 2å°(8æ ¸16G)
- æµ‹è¯•æœåŠ¡å™¨: 2å°(8æ ¸16G)
- æ•°æ®åº“æœåŠ¡å™¨: 1å°(16æ ¸32G)
- RedisæœåŠ¡å™¨: 1å°(8æ ¸16G)

**ç”Ÿäº§ç¯å¢ƒ**:
- WebæœåŠ¡å™¨: 3å°(16æ ¸32G) - è´Ÿè½½å‡è¡¡
- æ•°æ®åº“æœåŠ¡å™¨: 2å°(32æ ¸64G) - ä¸»ä»å¤åˆ¶
- Redisé›†ç¾¤: 3å°(16æ ¸32G)
- Elasticsearché›†ç¾¤: 3å°(16æ ¸32G)
- æ–‡ä»¶å­˜å‚¨: 10TBèµ·æ­¥
- CDN: æŒ‰æµé‡è®¡è´¹

#### 8.6.3 è½¯ä»¶èµ„æº

| è½¯ä»¶/æœåŠ¡ | ç”¨é€” | è´¹ç”¨ä¼°ç®— |
|-----------|------|---------|
| äº‘æœåŠ¡å™¨ | åº”ç”¨éƒ¨ç½² | Â¥5000/æœˆ |
| å¯¹è±¡å­˜å‚¨ | æ–‡ä»¶å­˜å‚¨ | Â¥1000/æœˆ |
| CDN | å†…å®¹åˆ†å‘ | Â¥2000/æœˆ |
| åŸŸå | ç½‘ç«™è®¿é—® | Â¥100/å¹´ |
| SSLè¯ä¹¦ | HTTPS | Â¥500/å¹´ |
| OpenAI API | å¤§æ¨¡å‹æœåŠ¡ | Â¥1000/æœˆ |
| ä»£ç†æœåŠ¡ | çˆ¬è™«ä»£ç† | Â¥500/æœˆ |
| æ”¯ä»˜é€šé“ | æ”¯ä»˜æœåŠ¡ | æŒ‰äº¤æ˜“é¢æ”¶è´¹ |
| **æœˆåº¦æ€»è®¡** | - | **çº¦Â¥10000/æœˆ** |

---

## 9. éƒ¨ç½²ä¸è¿ç»´

### 9.1 éƒ¨ç½²æ¶æ„

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ç”¨æˆ·ç«¯    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                    â”‚   CDN       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                    â”‚   Nginx     â”‚
                    â”‚  è´Ÿè½½å‡è¡¡    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚                  â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚ WebæœåŠ¡1 â”‚       â”‚ WebæœåŠ¡2 â”‚       â”‚ WebæœåŠ¡3 â”‚
   â”‚ (å‰ç«¯)   â”‚       â”‚ (å‰ç«¯)   â”‚       â”‚ (å‰ç«¯)   â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚                  â”‚                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                    â”‚   APIç½‘å…³   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚                  â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚ åç«¯æœåŠ¡1â”‚       â”‚ åç«¯æœåŠ¡2â”‚       â”‚ åç«¯æœåŠ¡3â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚                  â”‚                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚                  â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚  MySQL  â”‚       â”‚  Redis  â”‚       â”‚   ES    â”‚
   â”‚  ä¸»ä»   â”‚       â”‚  é›†ç¾¤   â”‚       â”‚  é›†ç¾¤   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 Nginxé…ç½®

```nginx
# è´Ÿè½½å‡è¡¡é…ç½®
upstream backend {
    server 192.168.1.101:8080 weight=1;
    server 192.168.1.102:8080 weight=1;
    server 192.168.1.103:8080 weight=1;
}

# HTTPé‡å®šå‘åˆ°HTTPS
server {
    listen 80;
    server_name example.com www.example.com;
    return 301 https://$server_name$request_uri;
}

# HTTPSé…ç½®
server {
    listen 443 ssl http2;
    server_name example.com www.example.com;
    
    # SSLè¯ä¹¦
    ssl_certificate /etc/nginx/ssl/cert.pem;
    ssl_certificate_key /etc/nginx/ssl/key.pem;
    
    # SSLé…ç½®
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers on;
    
    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /var/www/html;
        try_files $uri $uri/ /index.html;
        
        # ç¼“å­˜é…ç½®
        expires 7d;
        add_header Cache-Control "public, immutable";
    }
    
    # APIä»£ç†
    location /api/ {
        proxy_pass http://backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # è¶…æ—¶é…ç½®
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }
    
    # æ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶
    client_max_body_size 100M;
    
    # Gzipå‹ç¼©
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript 
               application/json application/javascript application/xml+rss;
}
```

### 9.3 Dockeréƒ¨ç½²

#### 9.3.1 Dockerfile

**åç«¯Dockerfile**:
```dockerfile
FROM openjdk:17-jdk-slim

WORKDIR /app

# å¤åˆ¶jaråŒ…
COPY target/movie-backend.jar app.jar

# æš´éœ²ç«¯å£
EXPOSE 8080

# å¯åŠ¨åº”ç”¨
ENTRYPOINT ["java", "-jar", "-Dspring.profiles.active=prod", "app.jar"]
```

**å‰ç«¯Dockerfile**:
```dockerfile
FROM node:18-alpine AS builder

WORKDIR /app

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY package.json pnpm-lock.yaml ./

# å®‰è£…ä¾èµ–
RUN npm install -g pnpm && pnpm install

# å¤åˆ¶æºä»£ç 
COPY . .

# æ„å»º
RUN pnpm build

# ç”Ÿäº§é•œåƒ
FROM nginx:alpine

# å¤åˆ¶æ„å»ºäº§ç‰©
COPY --from=builder /app/dist /usr/share/nginx/html

# å¤åˆ¶Nginxé…ç½®
COPY nginx.conf /etc/nginx/conf.d/default.conf

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
```

#### 9.3.2 Docker Compose

```yaml
version: '3.8'

services:
  # MySQLæ•°æ®åº“
  mysql:
    image: mysql:8.0
    container_name: movie-mysql
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}
      MYSQL_DATABASE: movie_db
    volumes:
      - mysql-data:/var/lib/mysql
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
    ports:
      - "3306:3306"
    networks:
      - movie-network
    restart: unless-stopped

  # Redisç¼“å­˜
  redis:
    image: redis:7-alpine
    container_name: movie-redis
    command: redis-server --requirepass ${REDIS_PASSWORD}
    volumes:
      - redis-data:/data
    ports:
      - "6379:6379"
    networks:
      - movie-network
    restart: unless-stopped

  # Elasticsearch
  elasticsearch:
    image: elasticsearch:8.11.0
    container_name: movie-es
    environment:
      - discovery.type=single-node
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
      - xpack.security.enabled=false
    volumes:
      - es-data:/usr/share/elasticsearch/data
    ports:
      - "9200:9200"
    networks:
      - movie-network
    restart: unless-stopped

  # åç«¯æœåŠ¡
  backend:
    build:
      context: ./KneneBackend
      dockerfile: Dockerfile
    container_name: movie-backend
    environment:
      SPRING_PROFILES_ACTIVE: prod
      SPRING_DATASOURCE_URL: jdbc:mysql://mysql:3306/movie_db
      SPRING_DATASOURCE_USERNAME: root
      SPRING_DATASOURCE_PASSWORD: ${MYSQL_ROOT_PASSWORD}
      SPRING_REDIS_HOST: redis
      SPRING_REDIS_PASSWORD: ${REDIS_PASSWORD}
      ELASTICSEARCH_HOST: elasticsearch
    depends_on:
      - mysql
      - redis
      - elasticsearch
    ports:
      - "8080:8080"
    networks:
      - movie-network
    restart: unless-stopped

  # å‰ç«¯æœåŠ¡
  frontend:
    build:
      context: ./MovieFront
      dockerfile: Dockerfile
    container_name: movie-frontend
    ports:
      - "80:80"
      - "443:443"
    depends_on:
      - backend
    networks:
      - movie-network
    restart: unless-stopped

volumes:
  mysql-data:
  redis-data:
  es-data:

networks:
  movie-network:
    driver: bridge
```

### 9.4 ç›‘æ§é…ç½®

#### 9.4.1 Prometheusé…ç½®

```yaml
global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  # Spring Bootåº”ç”¨ç›‘æ§
  - job_name: 'spring-boot'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['backend:8080']
  
  # MySQLç›‘æ§
  - job_name: 'mysql'
    static_configs:
      - targets: ['mysql-exporter:9104']
  
  # Redisç›‘æ§
  - job_name: 'redis'
    static_configs:
      - targets: ['redis-exporter:9121']
  
  # Nginxç›‘æ§
  - job_name: 'nginx'
    static_configs:
      - targets: ['nginx-exporter:9113']
```

#### 9.4.2 Grafanaé¢æ¿

åˆ›å»ºä»¥ä¸‹ç›‘æ§é¢æ¿:
1. **ç³»ç»Ÿæ¦‚è§ˆ**: CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œ
2. **åº”ç”¨æ€§èƒ½**: è¯·æ±‚é‡ã€å“åº”æ—¶é—´ã€é”™è¯¯ç‡
3. **æ•°æ®åº“ç›‘æ§**: è¿æ¥æ•°ã€æ…¢æŸ¥è¯¢ã€QPS
4. **ç¼“å­˜ç›‘æ§**: å‘½ä¸­ç‡ã€å†…å­˜ä½¿ç”¨ã€é”®æ•°é‡
5. **ä¸šåŠ¡æŒ‡æ ‡**: ç”¨æˆ·æ•°ã€ä¸‹è½½é‡ã€æ”¶å…¥

### 9.5 å¤‡ä»½ç­–ç•¥

#### 9.5.1 æ•°æ®åº“å¤‡ä»½

```bash
#!/bin/bash
# æ•°æ®åº“å¤‡ä»½è„šæœ¬

BACKUP_DIR="/backup/mysql"
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_FILE="$BACKUP_DIR/movie_db_$DATE.sql.gz"

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# å¤‡ä»½æ•°æ®åº“
mysqldump -h localhost -u root -p$MYSQL_ROOT_PASSWORD movie_db | gzip > $BACKUP_FILE

# åˆ é™¤7å¤©å‰çš„å¤‡ä»½
find $BACKUP_DIR -name "*.sql.gz" -mtime +7 -delete

# ä¸Šä¼ åˆ°äº‘å­˜å‚¨(å¯é€‰)
# aws s3 cp $BACKUP_FILE s3://backup-bucket/mysql/
```

#### 9.5.2 å®šæ—¶å¤‡ä»½

```cron
# æ¯å¤©å‡Œæ™¨3ç‚¹å¤‡ä»½æ•°æ®åº“
0 3 * * * /scripts/backup-mysql.sh

# æ¯å‘¨æ—¥å‡Œæ™¨4ç‚¹å¤‡ä»½Redis
0 4 * * 0 /scripts/backup-redis.sh

# æ¯æœˆ1å·å¤‡ä»½å®Œæ•´ç³»ç»Ÿ
0 5 1 * * /scripts/backup-full.sh
```

### 9.6 è¿ç»´æ‰‹å†Œ

#### 9.6.1 å¸¸è§é—®é¢˜å¤„ç†

**é—®é¢˜1: æœåŠ¡æ— å“åº”**
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker ps
systemctl status nginx

# æŸ¥çœ‹æ—¥å¿—
docker logs movie-backend
tail -f /var/log/nginx/error.log

# é‡å¯æœåŠ¡
docker restart movie-backend
systemctl restart nginx
```

**é—®é¢˜2: æ•°æ®åº“è¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥MySQLçŠ¶æ€
docker exec -it movie-mysql mysql -u root -p

# æ£€æŸ¥è¿æ¥æ•°
SHOW PROCESSLIST;

# æ£€æŸ¥æ…¢æŸ¥è¯¢
SHOW VARIABLES LIKE 'slow_query_log';
```

**é—®é¢˜3: Rediså†…å­˜ä¸è¶³**
```bash
# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
docker exec -it movie-redis redis-cli INFO memory

# æ¸…ç†è¿‡æœŸé”®
docker exec -it movie-redis redis-cli --scan --pattern "expired:*" | xargs redis-cli DEL

# è°ƒæ•´å†…å­˜ç­–ç•¥
docker exec -it movie-redis redis-cli CONFIG SET maxmemory-policy allkeys-lru
```

#### 9.6.2 æ€§èƒ½ä¼˜åŒ–

1. **æ•°æ®åº“ä¼˜åŒ–**
   - æ·»åŠ ç´¢å¼•
   - ä¼˜åŒ–æ…¢æŸ¥è¯¢
   - é…ç½®è¿æ¥æ± 
   - è¯»å†™åˆ†ç¦»

2. **ç¼“å­˜ä¼˜åŒ–**
   - çƒ­ç‚¹æ•°æ®é¢„çƒ­
   - ç¼“å­˜ç©¿é€é˜²æŠ¤
   - ç¼“å­˜é›ªå´©é˜²æŠ¤
   - åˆç†è®¾ç½®è¿‡æœŸæ—¶é—´

3. **åº”ç”¨ä¼˜åŒ–**
   - ä»£ç ä¼˜åŒ–
   - å¼‚æ­¥å¤„ç†
   - æ‰¹é‡æ“ä½œ
   - è¿æ¥æ± é…ç½®

4. **å‰ç«¯ä¼˜åŒ–**
   - ä»£ç åˆ†å‰²
   - å›¾ç‰‡æ‡’åŠ è½½
   - CDNåŠ é€Ÿ
   - Gzipå‹ç¼©

---

## 10. æ€»ç»“

### 10.1 é¡¹ç›®ç‰¹ç‚¹

1. **æŠ€æœ¯å…ˆè¿›**: é‡‡ç”¨æœ€æ–°çš„æŠ€æœ¯æ ˆå’Œæ¶æ„è®¾è®¡
2. **åŠŸèƒ½å®Œæ•´**: æ¶µç›–ç”¨æˆ·ã€å†…å®¹ã€ä¸‹è½½ã€æ”¯ä»˜ç­‰å®Œæ•´åŠŸèƒ½
3. **æ™ºèƒ½åŒ–**: é›†æˆå¤§æ¨¡å‹å®ç°æ™ºèƒ½æ¨èå’Œå†…å®¹ç†è§£
4. **å¯æ‰©å±•**: DDDæ¶æ„è®¾è®¡,æ˜“äºæ‰©å±•å’Œç»´æŠ¤
5. **é«˜æ€§èƒ½**: ç¼“å­˜ã€CDNã€è´Ÿè½½å‡è¡¡ç­‰ä¼˜åŒ–æªæ–½

### 10.2 åç»­è§„åˆ’

1. **çŸ­æœŸç›®æ ‡(1-3ä¸ªæœˆ)**
   - å®Œæˆæ ¸å¿ƒåŠŸèƒ½å¼€å‘
   - ä¸Šçº¿MVPç‰ˆæœ¬
   - ç§¯ç´¯åˆå§‹ç”¨æˆ·

2. **ä¸­æœŸç›®æ ‡(3-6ä¸ªæœˆ)**
   - å®Œå–„æ‰€æœ‰åŠŸèƒ½
   - ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
   - æ‰©å¤§ç”¨æˆ·è§„æ¨¡

3. **é•¿æœŸç›®æ ‡(6-12ä¸ªæœˆ)**
   - ç§»åŠ¨ç«¯APPå¼€å‘
   - å›½é™…åŒ–æ”¯æŒ
   - ç¤¾åŒºåŠŸèƒ½å®Œå–„
   - å•†ä¸šåŒ–è¿è¥

### 10.3 æˆåŠŸå…³é”®å› ç´ 

1. **å›¢é˜Ÿåä½œ**: å‰åç«¯ç´§å¯†é…åˆ,é«˜æ•ˆæ²Ÿé€š
2. **è´¨é‡ä¿è¯**: å®Œå–„çš„æµ‹è¯•å’Œä»£ç å®¡æŸ¥
3. **ç”¨æˆ·ä½“éªŒ**: ç®€æ´æ˜“ç”¨çš„ç•Œé¢è®¾è®¡
4. **å†…å®¹è´¨é‡**: é«˜è´¨é‡çš„èµ„æºå’Œå‡†ç¡®çš„ä¿¡æ¯
5. **æŠ€æœ¯åˆ›æ–°**: å¤§æ¨¡å‹ç­‰æ–°æŠ€æœ¯çš„åº”ç”¨
6. **è¿è¥æ¨å¹¿**: æœ‰æ•ˆçš„å¸‚åœºæ¨å¹¿ç­–ç•¥

---

**æ–‡æ¡£ç»“æŸ**

> æœ¬æ–‡æ¡£å°†æŒç»­æ›´æ–°,è¯·å…³æ³¨æœ€æ–°ç‰ˆæœ¬ã€‚  
> å¦‚æœ‰ç–‘é—®æˆ–å»ºè®®,è¯·è”ç³»é¡¹ç›®è´Ÿè´£äººã€‚

